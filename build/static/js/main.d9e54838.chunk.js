(this.webpackJsonplowympact=this.webpackJsonplowympact||[]).push([[0],{23:function(e,t,c){},30:function(e,t,c){},31:function(e,t,c){},32:function(e,t,c){},33:function(e,t,c){},35:function(e,t,c){},36:function(e,t,c){},62:function(e,t,c){},63:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),a=c(24),s=c.n(a),o=(c(30),c(4)),i=c(12),d=c(6),l=c(5),j=c(17),b=c(2),u=(c(31),c.p+"static/media/fruits-vegetables-basket-by-oblik-studio.7d5e1c64.svg"),m=(c(32),c(33),c(0));var p=function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"button-logo",children:Object(m.jsx)("span",{class:"material-icons",children:"history"})}),Object(m.jsx)("div",{children:"historique"})]})};var h=function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{children:Object(m.jsx)("span",{class:"material-icons",children:"person"})}),Object(m.jsx)("div",{children:"profil"})]})};var O=function(){return Object(m.jsx)("div",{children:Object(m.jsx)("div",{className:"navbar-scan-icon",children:Object(m.jsx)("span",{class:"material-icons",children:"qr_code_scanner"})})})},v=(c(35),c(36),c.p+"static/media/logo.b235ef42.svg");var x=function(){return Object(m.jsxs)("div",{className:"header-container",children:[Object(m.jsx)("img",{src:v,className:"header-logo",alt:"Logo"}),Object(m.jsx)("span",{children:"Lowympact"})]})},f=c(11),g=function(e){Object(d.a)(c,e);var t=Object(l.a)(c);function c(){var e;Object(o.a)(this,c);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={redirect:!1,routeRedirect:void 0},e.setRedirect=function(t){e.setState({redirect:!0,routeRedirect:"/products/"+t})},e.renderRedirect=function(){if(e.state.redirect)return Object(m.jsx)(b.a,{to:e.state.routeRedirect})},e.componentDidMount=function(){var t=new Map,c=[f.BarcodeFormat.QR_CODE,f.BarcodeFormat.EAN_13,f.BarcodeFormat.DATA_MATRIX];t.set(f.DecodeHintType.POSSIBLE_FORMATS,c);var n=new f.MultiFormatReader;n.setHints(t),new f.BrowserCodeReader(n).decodeFromInputVideoDevice(void 0,"video").then((function(t){e.setRedirect(t.text)})).catch((function(e){return console.error(e)}))},e.render=function(){return Object(m.jsxs)(r.a.Fragment,{children:[e.renderRedirect(),Object(m.jsx)(x,{}),Object(m.jsx)(N,{}),Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)("span",{class:"close",onClick:function(){return e.props.onCrossClicked(!1)},children:"\xd7"}),Object(m.jsx)("video",{id:"video"})]})]})},e}return c}(r.a.Component),N=function(e){Object(d.a)(c,e);var t=Object(l.a)(c);function c(){var e;Object(o.a)(this,c);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={showScanner:!1},e.handleScannerButton=function(t){e.setState({showScanner:t})},e.render=function(){return e.state.showScanner?Object(m.jsx)(g,{onCrossClicked:e.handleScannerButton}):Object(m.jsx)(r.a.Fragment,{children:Object(m.jsxs)("div",{className:"navbar-container",children:[Object(m.jsx)("a",{href:"/history",className:"navbar-link navbar-text-left",children:Object(m.jsx)(p,{})}),Object(m.jsx)("div",{onClick:function(){return e.handleScannerButton(!0)},children:Object(m.jsx)("div",{className:"navbar-circle",children:Object(m.jsx)(O,{})})}),Object(m.jsx)("span",{className:"navbar-scan-text",children:"scan"}),Object(m.jsx)("a",{href:"/profil",className:"navbar-link navbar-text-right",children:Object(m.jsx)(h,{})})]})})},e}return c}(r.a.Component),y=c.p+"static/media/bitmap.6f490d5b.png",F=(c(62),[{id:0,name:"P\xe2te \xe0 tartiner",image:"/assets/images/fruits-vegetables-basket-by-oblik-studio.svg",brand:"Nutella",label:"Mauvais"}]);function S(e){var t=e.item;return Object(m.jsx)("div",{className:"history-item",children:Object(m.jsx)("h1",{children:t.name})})}var C=function(e){Object(d.a)(c,e);var t=Object(l.a)(c);function c(e){var n;return Object(o.a)(this,c),(n=t.call(this,e)).state={items:F},n}return Object(i.a)(c,[{key:"render",value:function(){var e=this.state.items.map((function(e){return Object(m.jsx)("div",{children:Object(m.jsx)(S,{item:e})},e.id)}));return 0===Object.keys(this.state.items).length?Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{children:Object(m.jsx)("img",{src:y,className:"blob-top",alt:"Blob"})}),Object(m.jsx)(x,{}),Object(m.jsx)(N,{}),Object(m.jsx)("div",{className:"App",children:Object(m.jsxs)("div",{children:[Object(m.jsx)("img",{src:u,className:"logo",alt:"Fruits"}),Object(m.jsx)("p",{className:"logo-text",children:"Commencer \xe0 scanner des produits!"})]})}),Object(m.jsx)("div",{children:Object(m.jsx)("img",{src:y,className:"blob-left",alt:"Blob"})}),Object(m.jsx)("div",{children:Object(m.jsx)("img",{src:y,className:"blob-right",alt:"Blob"})})]}):Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"screen",children:e}),Object(m.jsx)(x,{}),Object(m.jsx)(N,{})]})}}]),c}(n.Component);var w=function(){return Object(m.jsx)("div",{className:"App",children:Object(m.jsxs)("header",{className:"App-header",children:[Object(m.jsx)("img",{src:v,className:"logo",alt:"logo"}),Object(m.jsx)("h1",{children:"Erreur 404"}),Object(m.jsx)("a",{href:"/",children:"Retourner \xe0 l'accueil"})]})})};c(23);var k=function(){return Object(m.jsx)("div",{children:"Cr\xe9er un compte"})};var I=function(){return Object(m.jsx)("div",{children:"Me connecter"})},B=function(e){Object(d.a)(c,e);var t=Object(l.a)(c);function c(){var e;Object(o.a)(this,c);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).render=function(){return Object(m.jsxs)(r.a.Fragment,{children:[Object(m.jsx)("div",{className:"login-logo",children:Object(m.jsx)("img",{src:v,className:"logo",alt:"Logo"})}),Object(m.jsx)("div",{className:"login-lowympact",children:"Lowympact"}),Object(m.jsx)("div",{className:"button-account",children:Object(m.jsx)(k,{})}),Object(m.jsx)("div",{className:"button-connect",children:Object(m.jsx)(I,{})}),Object(m.jsx)("div",{className:"logo-fruits",children:Object(m.jsx)("img",{src:u,className:"logo",alt:"Fruits"})})]})},e}return c}(r.a.Component),A=function(e){Object(d.a)(c,e);var t=Object(l.a)(c);function c(){var e;Object(o.a)(this,c);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={barcode:e.props.match.params.barcode,bcProductId:e.props.match.params.bcProductId,product:void 0,productImageUrl:void 0,productName:void 0,genericName:void 0,ecoScore:void 0},e.componentDidMount=function(){e.loadProductInformations(),e.loadFromOpenFoodFacts()},e.loadProductInformations=function(){fetch("https://api.lowympact.fr/".concat(e.state.barcode,"/").concat(e.state.bcProductId)).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({product:t})}))},e.loadFromOpenFoodFacts=function(){fetch("https://world.openfoodfacts.org/api/v0/product/".concat(e.state.barcode,".json/")).then((function(e){return e.json()})).then((function(t){var c,n,r,a;console.log(t);var s=null===t||void 0===t||null===(c=t.product)||void 0===c?void 0:c.image_url,o=null===t||void 0===t||null===(n=t.product)||void 0===n?void 0:n.product_name,i=null===t||void 0===t||null===(r=t.product)||void 0===r?void 0:r.generic_name,d=null===t||void 0===t||null===(a=t.product)||void 0===a?void 0:a.ecoscore_grade;s&&e.setState({productImageUrl:s}),o&&e.setState({productName:o}),i&&e.setState({genericName:i}),d&&"not-applicable"!==d&&e.setState({ecoScore:d})}))},e.flip=function(e){"rotateY(360deg)"===e.target.style.transform?e.target.style.transform="rotateY(0deg)":e.target.style.transform="rotateY(360deg)"},e.render=function(){var t=Object(m.jsx)(r.a.Fragment,{}),c=Object(m.jsx)(r.a.Fragment,{}),n=Object(m.jsx)(r.a.Fragment,{}),a=Object(m.jsx)(r.a.Fragment,{});if(e.state.productImageUrl&&(t=Object(m.jsx)("img",{src:e.state.productImageUrl,className:"product-image",alt:"produit"})),e.state.productName&&(c=Object(m.jsx)("div",{className:"product-name",children:e.state.productName})),e.state.ecoScore){var s="color_score_"+e.state.ecoScore;a=Object(m.jsxs)("div",{className:"product-ecoscore",children:[Object(m.jsx)("span",{className:"circle-score "+s,children:"\u2b24 "}),"EcoScore :",Object(m.jsx)("span",{className:"uppercase ",children:" "+e.state.ecoScore})]})}else e.state.genericName&&(n=Object(m.jsx)("div",{className:"product-generic-name",children:e.state.genericName}));return Object(m.jsxs)("div",{className:"product-page-container",children:[Object(m.jsxs)("div",{className:"product-header-container",children:[Object(m.jsx)("div",{className:"product-history-link",children:Object(m.jsxs)("a",{href:"/history",children:[" ","<"," Historique"]})}),Object(m.jsx)("img",{className:"product-bitmap-image",src:"/images/utils/bitmap.png",alt:""})]}),Object(m.jsxs)("div",{className:"product-image-container",onClick:e.flip,children:[t,c,Object(m.jsxs)("div",{className:"product-bottom-image-div",children:[n,a]})]}),Object(m.jsx)("div",{className:"product-bottom-container"}),Object(m.jsx)(N,{})]})},e}return c}(r.a.Component),R=function(e){Object(d.a)(c,e);var t=Object(l.a)(c);function c(){return Object(o.a)(this,c),t.apply(this,arguments)}return Object(i.a)(c,[{key:"render",value:function(){return Object(m.jsxs)(r.a.Fragment,{children:[Object(m.jsx)(x,{}),Object(m.jsx)("div",{children:Object(m.jsx)("h1",{className:"profil-title",children:"Bienvenue sur ton profil!"})}),Object(m.jsx)(N,{})]})}}]),c}(r.a.Component),_=function(e){Object(d.a)(c,e);var t=Object(l.a)(c);function c(){return Object(o.a)(this,c),t.apply(this,arguments)}return Object(i.a)(c,[{key:"render",value:function(){return Object(m.jsx)(j.a,{children:Object(m.jsxs)(b.d,{children:[Object(m.jsx)(b.b,{path:"/",component:C,exact:!0}),Object(m.jsx)(b.b,{path:"/history",component:C,exact:!0}),Object(m.jsx)(b.b,{path:"/login",component:B,exact:!0}),Object(m.jsx)(b.b,{path:"/profil",component:R,exact:!0}),Object(m.jsx)(b.b,{path:"/products/:barcode/:bcProductId",component:A,exact:!0}),Object(m.jsx)(b.b,{path:"/products/:barcode",component:A,exact:!0}),Object(m.jsx)(b.b,{path:"/error404",component:w}),Object(m.jsx)(b.a,{to:"/error404"})]})})}}]),c}(n.Component),P=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,64)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;c(e),n(e),r(e),a(e),s(e)}))};s.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(_,{})}),document.getElementById("root")),P()}},[[63,1,2]]]);
//# sourceMappingURL=main.d9e54838.chunk.js.map