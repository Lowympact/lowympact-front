{"version":3,"sources":["components/Button/ButtonCreateAccount.js","components/Button/ButtonLogin.js","components/Button/ButtonNoAccount.js","pages/Login.js","assets/images/fruits-vegetables-basket-by-oblik-studio.svg"],"names":["ButtonCreateAccount","ButtonLogin","ButtonNoAccount","Login","componentDidMount","Verify","queryString","window","location","search","urlParams","URLSearchParams","innerWidth","get","isExpired","token","localStorage","getItem","decodedToken","jwt","decode","complete","dateNow","Date","payload","exp","getTime","props","history","push","render","className","class","href","src","logo","alt","id","to","fruits","React","Component"],"mappings":"2LAQiBA,MAPjB,WACI,OACE,sDCKWC,MAPjB,WACI,OACE,gD,QCASC,MAHf,WACC,OAAO,yDAA4B,Q,iBCS9BC,E,4MACFC,kBAAoB,WAChB,EAAKC,SACL,IAAMC,EAAcC,OAAOC,SAASC,OAC9BC,EAAY,IAAIC,gBAAgBL,GAElCC,OAAOK,WAAa,MAAQF,EAAUG,IAAI,S,EAKlDR,OAAS,WACL,IAAIS,GAAY,EACVC,EAAQC,aAAaC,QAAQ,SACnC,GAAIF,EAAO,CACP,IAAIG,EAAeC,IAAIC,OAAOL,EAAO,CAAEM,UAAU,IAC7CC,EAAU,IAAIC,KAEdL,EAAaM,QAAQC,KAAOH,EAAQI,UAAY,MAChDZ,GAAY,IAGF,IAAdA,GAEA,EAAKa,MAAMC,QAAQC,KAAnB,a,EAGRC,OAAS,WACL,OACI,sBAAKC,UAAU,kBAAf,UACI,mBAAGC,MAAM,YAAYC,KAAK,QAA1B,0BAGA,qBAAKF,UAAU,aAAf,SACI,qBAAKG,IAAKC,IAAMJ,UAAU,OAAOK,IAAI,WAEzC,sBAAMC,GAAG,OAAON,UAAU,kBAA1B,uBAGA,cAAC,IAAD,CAAMO,GAAG,UAAUP,UAAU,iBAA7B,SACI,cAAC,EAAD,MAEJ,cAAC,IAAD,CAAMO,GAAG,UAAUP,UAAU,iBAA7B,SACI,cAAC,EAAD,MAEJ,cAAC,IAAD,CAAMO,GAAG,WAAWP,UAAU,oBAA9B,SACI,cAAC,EAAD,MAEJ,qBAAKA,UAAU,cAAf,SACI,qBAAKG,IAAKK,IAAQR,UAAU,OAAOK,IAAI,iB,YAjDvCI,IAAMC,WAuDXtC,a,gCCjEA,QAA0B,sE","file":"static/js/16.caf5ae43.chunk.js","sourcesContent":["import '../../pages/Login.css';\nfunction ButtonCreateAccount() {\n    return (\n      <div>\n        Cr√©er un compte\n      </div>\n    );\n  }\n  export default ButtonCreateAccount;\n","\nfunction ButtonLogin() {\n    return (\n      <div>\n        Me connecter\n      </div>\n    );\n  }\n  export default ButtonLogin;","function ButtonNoAccount() {\n\treturn <div>Continuer sans compte {\">\"}</div>;\n}\nexport default ButtonNoAccount;\n","import React from \"react\";\nimport logo from \"../assets/images/logo.svg\";\nimport fruits from \"../assets/images/fruits-vegetables-basket-by-oblik-studio.svg\";\nimport \"./Login.css\";\nimport ButtonCreateAccount from \"../components/Button/ButtonCreateAccount\";\nimport ButtonLogin from \"../components/Button/ButtonLogin\";\nimport { Link } from \"react-router-dom\";\nimport ButtonNoAccount from \"../components/Button/ButtonNoAccount\";\nimport jwt from \"jsonwebtoken\";\n\nclass Login extends React.Component {\n    componentDidMount = () => {\n        this.Verify();\n        const queryString = window.location.search;\n        const urlParams = new URLSearchParams(queryString);\n\n        if (window.innerWidth > 1200 && urlParams.get(\"from\") != \"website\") { // If from computer then redirection\n            //window.location.assign(\"https://lowympact.fr\");\n        }\n    };\n\n    Verify = () => {\n        let isExpired = true;\n        const token = localStorage.getItem(\"token\");\n        if (token) {\n            var decodedToken = jwt.decode(token, { complete: true });\n            var dateNow = new Date();\n            //console.log(decodedToken, dateNow.getTime() / 1000);\n            if (decodedToken.payload.exp >= dateNow.getTime() / 1000) {\n                isExpired = false;\n            }\n        }\n        if (isExpired === false) {\n            //console.log(\"here\");\n            this.props.history.push(`/history`); // redirection vers la page login\n        }\n    };\n    render = () => {\n        return (\n            <div className=\"login-container\">\n                <a class=\"skip-link\" href=\"#main\">\n                    Skip to main\n                </a>\n                <div className=\"login-logo\">\n                    <img src={logo} className=\"logo\" alt=\"Logo\" />\n                </div>\n                <main id=\"main\" className=\"login-lowympact\">\n                    Lowympact\n                </main>\n                <Link to=\"/signup\" className=\"button-account\">\n                    <ButtonCreateAccount />\n                </Link>\n                <Link to=\"/signin\" className=\"button-connect\">\n                    <ButtonLogin />\n                </Link>\n                <Link to=\"/history\" className=\"button-no-account\">\n                    <ButtonNoAccount />\n                </Link>\n                <div className=\"logo-fruits\">\n                    <img src={fruits} className=\"logo\" alt=\"Fruits\" />\n                </div>\n            </div>\n        );\n    };\n}\nexport default Login;\n","export default __webpack_public_path__ + \"static/media/fruits-vegetables-basket-by-oblik-studio.7d5e1c64.svg\";"],"sourceRoot":""}