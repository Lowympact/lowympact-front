{"version":3,"sources":["assets/images/fruits-vegetables-basket-by-oblik-studio.svg","components/Button/ButtonHistory.js","components/Button/ButtonProfil.js","components/Button/ButtonScan.js","components/Scan/Scan.js","components/Navbar/Navbar.js","assets/images/logo.svg","assets/images/bitmap.png","components/Header/Header.js","pages/History.js","pages/Error404.js","components/Button/ButtonCreateAccount.js","components/Button/ButtonLogin.js","components/Button/ButtonNoAccount.js","pages/Login.js","components/Traceability/leaflet-curve/leaflet.curve.js","components/Traceability/leaflet-curve/Curve.js","components/Traceability/Traceability.js","assets/alternatives/alternatives.js","assets/images/nutella.png","components/Environnement/Environnement.js","pages/Product.js","components/Labels/Labels.js","pages/Profil.js","components/Button/ButtonSignup.js","pages/Signup.js","components/Button/ButtonSignin.js","pages/Signin.js","components/Button/ButtonChangePassword.js","assets/users/users.js","pages/ProfileConfiguration.js","components/Charts/DoughnutChartEcoScore.js","pages/Statistics.js","App.js","reportWebVitals.js","index.js"],"names":["ButtonHistory","className","class","ButtonProfil","ButtonScan","configurationPromise","configure","engineLocation","catch","error","alert","style","position","top","bottom","left","right","margin","maxWidth","maxHeight","Scan","props","ref","React","createRef","then","ScanditSDKBarcodePicker","create","current","barcodePicker","onScan","on","onError","this","destroy","prevProps","JSON","stringify","scanSettings","applyScanSettings","visible","setVisible","AnimatePresence","exitBeforeEnter","motion","div","id","initial","animate","transition","duration","exit","onClick","onCrossClicked","Component","Navbar","state","showScanner","barcode","undefined","bcProductId","height","updateWindowDimensions","setState","window","innerHeight","handleScannerButton","bool","handleBarcode","res","arr","split","length","render","Fragment","to","vibrateOnScan","enableTorchToggle","enablePinchToZoom","enableCameraSwitcher","guiStyle","ScanSettings","enabledSymbologies","codeDuplicateFilter","scanResult","console","log","barcodes","data","message","location","pathname","addEventListener","removeEventListener","Header","src","blob","alt","logo","RenderHistoryItem","labelColor","item","label","pathProduct","opacity","image","name","brand","color","marginRight","History","componentDidMount","userId","localStorage","getItem","token","loadHistoryInformations","loadLocalStorageHistory","fetch","method","credentials","headers","Headers","authorization","response","json","items","history","parse","itemList","map","Object","keys","fruits","Error404","ButtonCreateAccount","ButtonLogin","ButtonNoAccount","Login","Verify","isExpired","decodedToken","jwt","decode","complete","dateNow","Date","getTime","payload","exp","push","L","Curve","Path","extend","options","initialize","path","setOptions","_initialUpdate","_setPath","getPath","_coords","setPath","redraw","getBounds","_bounds","_computeBounds","lastPoint","lastCommand","coord","bound","LatLngBounds","i","String","lat","latLng","lng","controlPoint1","controlPoint2","endPoint","diffLat","diffLng","controlPoint","getCenter","_update","_map","_updatePath","_renderer","_updatecurve","_project","lastCoord","curCommand","curPoint","_points","latLngToLayerPoint","curve","SVG","include","layer","_curvePointsToPath","_path","getTotalLength","dashArray","strokeDasharray","strokeDashoffset","points","point","str","x","y","positions","option","getOptions","fromProps","toProps","leafletElement","setStyleIfChanged","propTypes","children","PropTypes","oneOfType","arrayOf","node","object","array","isRequired","withLeaflet","Traceability","zoom","swiper","currentIndex","getMaterialIcon","mode","getTransportMode","getTranslation","displaySlides","slides","products","product","pastille","TransportCO2Impact","value","transport","productsOutput","productName","seller","localisation","city","country","type","buyer","Math","round","dist","handleMarkerClick","latlng","index","elem","document","getElementsByClassName","scrollIntoView","behavior","slideTo","p","latitude","longitude","getZoomRatio","flyTo","onSlideChange","parseFloat","long","displayMarker","markers","icon","icon2","marker1","lat1","long1","marker2","lat2","long2","zIndex","Icon","iconUrl","iconRetinaUrl","iconSize","Point","Marker","zIndexOffset","curves","setAttribute","getCurveOptions","fill","delay","Map","center","minZoom","scrollWheelZoom","maxBounds","maxBoundsViscosity","getBottomRef","whenCreated","TileLayer","attribution","url","spaceBetween","slidesPerView","centeredSlides","activeIndex","onSwiper","toRadian","degree","PI","origin","destination","distance","lon1","lon2","deltaLat","deltaLon","a","pow","sin","cos","asin","sqrt","getDistance","latlng1","latlng2","offsetX","offsetY","r","theta","atan2","r2","theta2","midpointX","PRODUCTS","ecoscore_score","RenderColor","labelLevel","Environnement","width","showTransport","getColor","note","getColorImpact","getLabel","getLabelImpact","getLabelImpactPackaging","getColorImpactPackaging","dataEcoScore","adjustments","packaging","packagings","recyclable","recycling","material","ecoscore_material_score","innerWidth","displayCO2Repartition","pourcentage","nbKg","toFixed","percentage","strokeWidth","fontSize","primaryColor","displayRepartitionAllItems","html_agriculture","html_transport","html_consommation","html_distribution","html_packaging","html_processing","html_total","agribalyse","co2_agriculture","co2_total","co2_transportation","co2_consumption","co2_distribution","co2_packaging","co2_processing","handleShowTransport","displayTransportImpact","agribalyse_CO2","transportation_score","transport_final_indicator","n","origins_of_ingredients","value_fr","co2_impact_html","transportation_score_html","diplayPackagingDetailImpact","displayPackagingImpact","alternativesloop","EcoScore","ecoScore","nutella","Product","match","params","productImageUrl","genericName","connected","productData","cart","isFlipping","component","bottomComponent","loadHistory","loadFromOpenFoodFacts","loadProductInformations","handleBarCodeUpdate","traceability","impact","image_url","product_name","generic_name","ecoscore_grade","ecoscore_data","status","saveHistory","Authorization","success","quantity","body","bcProductAddress","exist","find","element","brands","setItem","addToCart","flip","quantityDelta","ecoscore","carbonImpact","removeFromCart","event","imageFlip","transform","displayImage","scoreClass","handleChange","newValue","displayNavbar","retour","sort","b","depth","ms","Promise","setTimeout","Profil","disconnect","clear","displayConnectedProfil","displayUnconnectedProfil","ButtonSignup","validEmail","RegExp","Signup","userName","email","password","confirmPassword","errors","redirect","submit","signUser","username","_id","handleSubmit","e","preventDefault","validate","displayErrors","test","onChange","evt","target","passwordConfirm","ButtonSignin","Signin","Connect","loginSuccessful","err","ButtonChangePassword","USERS","ProfileConfiguration","currentPassword","newPassword","user","changeUserInfo","loadUserInfo","placeholder","dataMock","title","DoughnutChartEcoScore","selectedSegment","displayChart","ecoScoreData","scannedProduct","lineWidth","paddingAngle","radius","PieChart","defaultProps","animationDuration","dataEntry","labelStyle","fontFamily","labelPosition","segmentsStyle","cursor","segmentsShift","c","d","unknown","Statistics","carbonImpactData","cartedProduct","loadUserData","loadEcoScoreData","loadCarbonImpactData","typeAggregate","statistics","displayStats","App","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3e0861ba.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/fruits-vegetables-basket-by-oblik-studio.9dfc6522.svg\";","import \"./ButtonNavBar.css\";\r\n\r\nfunction ButtonHistory() {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className=\"button-logo\">\r\n\t\t\t\t<span class=\"material-icons\">history</span>\r\n\t\t\t</div>\r\n\t\t\t<div>Historique</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default ButtonHistory;\r\n","function ButtonProfil() {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div>\r\n\t\t\t\t<span class=\"material-icons\">person</span>\r\n\t\t\t</div>\r\n\t\t\t<div>Profil</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default ButtonProfil;\r\n","import { React } from \"react\";\r\n\r\nfunction ButtonScan() {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className=\"navbar-scan-icon\">\r\n\t\t\t\t<span class=\"material-icons\">qr_code_scanner</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default ButtonScan;\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {\r\n\tconfigure,\r\n\tBarcodePicker as ScanditSDKBarcodePicker,\r\n} from \"scandit-sdk\";\r\nimport \"./Scan.css\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\n\r\n// Configure the library and activate it with a license key\r\nconst configurationPromise = configure(\r\n\t\"ASHf6Cx7DGz5BbkR5RWee94Ezm55DtkCAFB5HoNVQLhPf8gUhk8ypmZ72tbfAdIo33/I2gZR9pcXcdBwQGyYu69PkahqLA0dEEN5WFtpVEjMfQMiBhwmRWIJQgn+E54DiwJm/5CjsV1+Uy7AJWXnvrLiuwxG2D/b7b1QoPFJfkKp2OSreWJXnV/kJ+rtqFyNOu2wQb5Rq5IFXOU/tnjlTvJp8Kxl4jezOVoWlQZreaLKfxfBforPArJErC16cldrqFULYUdsPqb4Vn27hWUmPQTfaX/SbeDCl1h++IPmcvRpzwM9hY0ti7zzfhBKg3TgEYTMiPUipakmM21mU92xYjA9kmKO6bOjzY4XqyrWBUzv/C1TwJfK1aZDDLH8BOmqqJILi2Ty9fN84y09vBgv0dfXhQa3Q0/UW0Hnv0Xge2am3RY5dmE6pfWaxYyA3fDj920DpnlUNcAsfdErnvpZz8H1eftw6D2w3ps6q3jNFc/CTkALFZOk9Sy2u+lOfzvjKrcz5d1yoSo1sVhFsLWNUoaoHTP6NPnQaawC1YwPRp90T+2yNfx+iESAhn3qfn2pOEpBG0rHdZNLLj1yeNJU9Pjt7dznNeCJwG2SzSQvPZU5HzLuIu+siWjUPStB9WWMfVluWN3opv+ReRWBjBsaRFPBmit6LNbRk3QLT6To50yVZg8Zy1NuDFUoE+Ms2ytVn9fs30n1DeNYJLCWjQJ4ktQaz2mIFTOFvRVrJqPkTBwzOaAjWoPxOr097hga8bRhPAqV6ir7ojSffUeCjL/jmp1x1uSE4OaQe3Y32oC0XOVJqA==\",\r\n\t{\r\n\t\tengineLocation: \"https://cdn.jsdelivr.net/npm/scandit-sdk@5.x/build/\",\r\n\t}\r\n).catch((error) => {\r\n\talert(error);\r\n});\r\n\r\nconst style = {\r\n\tposition: \"absolute\",\r\n\ttop: \"0\",\r\n\tbottom: \"0\",\r\n\tleft: \"0\",\r\n\tright: \"0\",\r\n\tmargin: \"auto\",\r\n\tmaxWidth: \"1280px\",\r\n\tmaxHeight: \"80%\",\r\n};\r\n\r\nclass Scan extends Component {\r\n\tstatic propTypes = {\r\n\t\tvisible: PropTypes.bool,\r\n\t\tplaySoundOnScan: PropTypes.bool,\r\n\t\tvibrateOnScan: PropTypes.bool,\r\n\t\tscanningPaused: PropTypes.bool,\r\n\t\tguiStyle: PropTypes.string,\r\n\t\tvideoFit: PropTypes.string,\r\n\t\tscanSettings: PropTypes.object,\r\n\t\tenableCameraSwitcher: PropTypes.bool,\r\n\t\tenableTorchToggle: PropTypes.bool,\r\n\t\tenableTapToFocus: PropTypes.bool,\r\n\t\tenablePinchToZoom: PropTypes.bool,\r\n\t\taccessCamera: PropTypes.bool,\r\n\t\tcamera: PropTypes.object,\r\n\t\tcameraSettings: PropTypes.object,\r\n\t\ttargetScanningFPS: PropTypes.number,\r\n\t\tonScan: PropTypes.func,\r\n\t\tonError: PropTypes.func,\r\n\t};\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.ref = React.createRef();\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconfigurationPromise.then(() => {\r\n\t\t\tScanditSDKBarcodePicker.create(this.ref.current, this.props).then(\r\n\t\t\t\t(barcodePicker) => {\r\n\t\t\t\t\tthis.barcodePicker = barcodePicker;\r\n\r\n\t\t\t\t\tif (this.props.onScan != null) {\r\n\t\t\t\t\t\tbarcodePicker.on(\"scan\", this.props.onScan);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.props.onError != null) {\r\n\t\t\t\t\t\tbarcodePicker.on(\"scanError\", this.props.onError);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tif (this.barcodePicker != null) {\r\n\t\t\tthis.barcodePicker.destroy();\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\t// These are just some examples of how to react to some possible property changes\r\n\r\n\t\tif (\r\n\t\t\tJSON.stringify(prevProps.scanSettings) !==\r\n\t\t\tJSON.stringify(this.props.scanSettings)\r\n\t\t) {\r\n\t\t\tthis.barcodePicker.applyScanSettings(this.props.scanSettings);\r\n\t\t}\r\n\r\n\t\tif (prevProps.visible !== this.props.visible) {\r\n\t\t\tthis.barcodePicker.setVisible(this.props.visible);\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<AnimatePresence exitBeforeEnter={true}>\r\n\t\t\t\t<motion.div\r\n\t\t\t\t\tid=\"background-scan\"\r\n\t\t\t\t\tinitial={{ bottom: \"-1000px\" }}\r\n\t\t\t\t\tanimate={{ bottom: \"0px\" }}\r\n\t\t\t\t\ttransition={{ duration: 0.5 }}\r\n\t\t\t\t\texit={{ bottom: \"-1000px\" }}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div ref={this.ref} style={style} />\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\tclass=\"close\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tthis.props.onCrossClicked(false);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t&times;\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<div id=\"scandit-barcode-picker\"></div>\r\n\t\t\t\t</motion.div>\r\n\t\t\t</AnimatePresence>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Scan;\r\n","import \"./Navbar.css\";\r\nimport React from \"react\";\r\nimport ButtonHistory from \"../Button/ButtonHistory\";\r\nimport ButtonProfil from \"../Button/ButtonProfil\";\r\nimport ButtonScan from \"../Button/ButtonScan\";\r\nimport Scan from \"../Scan/Scan\";\r\nimport { ScanSettings } from \"scandit-sdk\";\r\nimport { Redirect, Link } from \"react-router-dom\";\r\n\r\nclass Navbar extends React.Component {\r\n\tstate = {\r\n\t\tshowScanner: false,\r\n\t\tbarcode: undefined,\r\n\t\tbcProductId: undefined,\r\n\t\theight: 0,\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.updateWindowDimensions();\r\n\t\twindow.addEventListener(\"resize\", this.updateWindowDimensions);\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\twindow.removeEventListener(\"resize\", this.updateWindowDimensions);\r\n\t}\r\n\r\n\tupdateWindowDimensions = () => {\r\n\t\tthis.setState({ height: window.innerHeight });\r\n\t};\r\n\r\n\thandleScannerButton = (bool) => {\r\n\t\tthis.setState({ showScanner: bool });\r\n\t};\r\n\r\n\thandleBarcode = (res) => {\r\n\t\tif (res) {\r\n\t\t\t//dtect par barcode scanner\r\n\t\t\tlet arr = res.split(\"/\");\r\n\t\t\tif (arr.length > 1) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tbarcode: arr[4],\r\n\t\t\t\t\tbcProductId: arr[5],\r\n\t\t\t\t\tshowScanner: false,\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tbarcode: arr[0],\r\n\t\t\t\t\tshowScanner: false,\r\n\t\t\t\t\tbcProductId: undefined,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\trender = () => {\r\n\t\tif (this.state.height < 550) {\r\n\t\t\treturn <React.Fragment />;\r\n\t\t}\r\n\t\tif (\r\n\t\t\tthis.state.barcode &&\r\n\t\t\tthis.state.bcProductId &&\r\n\t\t\t(this.props.barcode !== this.state.barcode ||\r\n\t\t\t\tthis.props.bcProductId !== this.state.bcProductId)\r\n\t\t) {\r\n\t\t\treturn (\r\n\t\t\t\t<Redirect\r\n\t\t\t\t\tto={\r\n\t\t\t\t\t\t\"/products/\" +\r\n\t\t\t\t\t\tthis.state.barcode +\r\n\t\t\t\t\t\t\"/\" +\r\n\t\t\t\t\t\tthis.state.bcProductId\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tif (this.state.barcode && this.props.barcode !== this.state.barcode) {\r\n\t\t\treturn <Redirect to={\"/products/\" + this.state.barcode} />;\r\n\t\t}\r\n\r\n\t\tif (!this.state.showScanner) {\r\n\t\t\treturn (\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t<div className=\"navbar-container\">\r\n\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\tto=\"/history\"\r\n\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\twindow.location.pathname == \"/history\"\r\n\t\t\t\t\t\t\t\t\t? \"navbar-link navbar-text-left navbar-selected\"\r\n\t\t\t\t\t\t\t\t\t: \"navbar-link navbar-text-left \"\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ButtonHistory />\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<div onClick={() => this.handleScannerButton(true)}>\r\n\t\t\t\t\t\t\t<div className=\"navbar-circle\">\r\n\t\t\t\t\t\t\t\t<ButtonScan />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<span className=\"navbar-scan-text\">Scan</span>\r\n\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\tto=\"/profil\"\r\n\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\twindow.location.pathname == \"/profil\"\r\n\t\t\t\t\t\t\t\t\t? \"navbar-link navbar-text-right navbar-selected\"\r\n\t\t\t\t\t\t\t\t\t: \"navbar-link navbar-text-right \"\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ButtonProfil />\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<Scan\r\n\t\t\t\t\tonCrossClicked={this.handleScannerButton}\r\n\t\t\t\t\t// playSoundOnScan={true}\r\n\t\t\t\t\tvibrateOnScan={true}\r\n\t\t\t\t\tenableTorchToggle={true}\r\n\t\t\t\t\tenablePinchToZoom={true}\r\n\t\t\t\t\tenableCameraSwitcher={true}\r\n\t\t\t\t\tguiStyle={\"viewfinder\"}\r\n\t\t\t\t\tscanSettings={\r\n\t\t\t\t\t\tnew ScanSettings({\r\n\t\t\t\t\t\t\tenabledSymbologies: [\r\n\t\t\t\t\t\t\t\t\"qr\",\r\n\t\t\t\t\t\t\t\t\"ean8\",\r\n\t\t\t\t\t\t\t\t\"ean13\",\r\n\t\t\t\t\t\t\t\t\"upca\",\r\n\t\t\t\t\t\t\t\t\"upce\",\r\n\t\t\t\t\t\t\t\t\"code128\",\r\n\t\t\t\t\t\t\t\t\"code39\",\r\n\t\t\t\t\t\t\t\t\"code93\",\r\n\t\t\t\t\t\t\t\t\"itf\",\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\tcodeDuplicateFilter: 1000,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tonScan={(scanResult) => {\r\n\t\t\t\t\t\tconsole.log(scanResult.barcodes[0].data);\r\n\t\t\t\t\t\tthis.handleBarcode(scanResult.barcodes[0].data);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tonError={(error) => {\r\n\t\t\t\t\t\tconsole.error(error.message);\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n}\r\n\r\nexport default Navbar;\r\n","export default __webpack_public_path__ + \"static/media/logo.0dcb8e95.svg\";","export default __webpack_public_path__ + \"static/media/bitmap.6f490d5b.png\";","import './Header.css';\r\nimport logo from '../../assets/images/logo.svg';\r\nimport blob from \"../../assets/images/bitmap.png\";\r\n\r\nfunction Header() {\r\n  return (\r\n    <div>\r\n      <div>\r\n\t\t\t\t\t\t<img src={blob} className=\"blob-top\" alt=\"Blob\" />\r\n\t\t\t\t</div>\r\n        <div>\r\n          <img src={blob} className=\"blob-left\" alt=\"Blob\" />\r\n        </div>\r\n        <div>\r\n          <img src={blob} className=\"blob-right\" alt=\"Blob\" />\r\n        </div>\r\n      <div className=\"header-container\">\r\n        <img src={logo} className=\"header-logo\" alt=\"Logo\"/>\r\n        <span>Lowympact</span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;","import { React, Component } from \"react\";\r\nimport fruits from \"../assets/images/fruits-vegetables-basket-by-oblik-studio.svg\";\r\nimport Navbar from \"../components/Navbar/Navbar\";\r\nimport Header from \"../components/Header/Header\";\r\nimport \"./History.css\";\r\n// import { ITEMS } from \"../assets/scanned/items\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nfunction RenderHistoryItem({ item }) {\r\n\tvar labelColor;\r\n\tif (item.label === \"d\" || item.label === \"e\") {\r\n\t\tlabelColor = \"red\";\r\n\t} else if (item.label === \"c\") {\r\n\t\tlabelColor = \"yellow\";\r\n\t} else if (item.label === \"a\" || item.label === \"b\") {\r\n\t\tlabelColor = \"green\";\r\n\t}\r\n\r\n\tvar pathProduct = \"/products/\" + item.barcode;\r\n\tif (item.bcProductId) {\r\n\t\tpathProduct += \"/\" + item.bcProductId;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<motion.div\r\n\t\t\tinitial={{ opacity: 0 }}\r\n\t\t\tanimate={{ opacity: 1 }}\r\n\t\t\texit={{ opacity: 0 }}\r\n\t\t>\r\n\t\t\t<Link className=\"history-item\" to={pathProduct}>\r\n\t\t\t\t<div className=\"history-img-container\">\r\n\t\t\t\t\t<img src={item.image} alt=\"\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"history-name-container\">\r\n\t\t\t\t\t<div className=\"history-name\">{item.name}</div>\r\n\t\t\t\t\t<div className=\"history-brand\">{item.brand}</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"history-label-container\">\r\n\t\t\t\t\t<div style={{ color: labelColor }}></div>\r\n\t\t\t\t\t<div className=\"history-label\">{item.label}</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div style={{ marginRight: \"10px\", color: \"rgb(41,72,102)\" }}>\r\n\t\t\t\t\t{\">\"}\r\n\t\t\t\t</div>\r\n\t\t\t</Link>\r\n\t\t</motion.div>\r\n\t);\r\n}\r\n\r\nclass History extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\titems: undefined,\r\n\t\t\tuserId: undefined, //TO DO : rcuprer le vrai user ID qui est connect, puis le token dans Auhtorization ? (voir avec les cookies)\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount = () => {\r\n\t\tlet userId = localStorage.getItem(\"userId\");\r\n\t\tlet token = localStorage.getItem(\"token\");\r\n\t\tif (userId && token) {\r\n\t\t\tthis.setState({ userId: userId });\r\n\t\t\tthis.loadHistoryInformations(userId);\r\n\t\t} else {\r\n\t\t\tthis.loadLocalStorageHistory(userId);\r\n\t\t}\r\n\t};\r\n\r\n\tloadHistoryInformations = (userId) => {\r\n\t\tfetch(\r\n\t\t\t`https://api.lowympact.fr/api/v1/users/${userId}/history`,\r\n\t\t\t// `http://localhost:8080/api/v1/users/${userId}/history`,\r\n\r\n\t\t\t{\r\n\t\t\t\tmethod: \"get\",\r\n\t\t\t\tcredentials: \"include\",\r\n\t\t\t\theaders: new Headers({\r\n\t\t\t\t\tauthorization: localStorage.getItem(\"token\"),\r\n\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\t\"api-key\": \"99d8fb95-abdd-4885-bf6c-3a81d8874043\",\r\n\t\t\t\t}),\r\n\t\t\t}\r\n\t\t)\r\n\t\t\t.then((response) => response.json())\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconsole.log(res);\r\n\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\titems: res?.data,\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t};\r\n\r\n\tloadLocalStorageHistory = () => {\r\n\t\tlet history = JSON.parse(localStorage.getItem(\"local_history\"));\r\n\t\tthis.setState({\r\n\t\t\titems: history,\r\n\t\t});\r\n\t};\r\n\r\n\trender() {\r\n\t\tif (this.state.items) {\r\n\t\t\tconst itemList = this.state.items.map((item) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div key={item.id}>\r\n\t\t\t\t\t\t<RenderHistoryItem item={item} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t});\r\n\r\n\t\t\tif (Object.keys(this.state.items).length === 0)\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Header />\r\n\t\t\t\t\t\t<Navbar />\r\n\t\t\t\t\t\t<motion.div\r\n\t\t\t\t\t\t\tclassName=\"App\"\r\n\t\t\t\t\t\t\tinitial={{ opacity: 0 }}\r\n\t\t\t\t\t\t\tanimate={{ opacity: 1 }}\r\n\t\t\t\t\t\t\texit={{ opacity: 0 }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tsrc={fruits}\r\n\t\t\t\t\t\t\t\t\tclassName=\"logo\"\r\n\t\t\t\t\t\t\t\t\talt=\"Fruits\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<p className=\"logo-text\">\r\n\t\t\t\t\t\t\t\t\tCommence  scanner des produits !\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</motion.div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\telse\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div className=\"screen\">\r\n\t\t\t\t\t\t\t<div className=\"screen-title\"></div>\r\n\t\t\t\t\t\t\t{itemList}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Header />\r\n\t\t\t\t\t\t<Navbar />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Header />\r\n\t\t\t\t\t<Navbar />\r\n\t\t\t\t\t<motion.div\r\n\t\t\t\t\t\tclassName=\"App\"\r\n\t\t\t\t\t\tinitial={{ opacity: 0 }}\r\n\t\t\t\t\t\tanimate={{ opacity: 1 }}\r\n\t\t\t\t\t\texit={{ opacity: 0 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<img src={fruits} className=\"logo\" alt=\"Fruits\" />\r\n\t\t\t\t\t\t\t<p className=\"logo-text\">\r\n\t\t\t\t\t\t\t\tCommencer  scanner des produits!\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</motion.div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default History;\r\n","import logo from \"../assets/images/logo.svg\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Error404() {\r\n\treturn (\r\n\t\t<div className=\"App\">\r\n\t\t\t<header className=\"App-header\">\r\n\t\t\t\t<img src={logo} className=\"logo\" alt=\"logo\" />\r\n\t\t\t\t<h1>Erreur 404</h1>\r\n\t\t\t\t<Link to=\"/\">Retourner  l'accueil</Link>\r\n\t\t\t</header>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Error404;\r\n","import '../../pages/Login.css';\r\nfunction ButtonCreateAccount() {\r\n    return (\r\n      <div>\r\n        Crer un compte\r\n      </div>\r\n    );\r\n  }\r\n  export default ButtonCreateAccount;\r\n","\r\nfunction ButtonLogin() {\r\n    return (\r\n      <div>\r\n        Me connecter\r\n      </div>\r\n    );\r\n  }\r\n  export default ButtonLogin;","function ButtonNoAccount() {\r\n\treturn <div>Continuer sans compte {\">\"}</div>;\r\n}\r\nexport default ButtonNoAccount;\r\n","import React from \"react\";\r\nimport logo from \"../assets/images/logo.svg\";\r\nimport fruits from \"../assets/images/fruits-vegetables-basket-by-oblik-studio.svg\";\r\nimport \"./Login.css\";\r\nimport ButtonCreateAccount from \"../components/Button/ButtonCreateAccount\";\r\nimport ButtonLogin from \"../components/Button/ButtonLogin\";\r\nimport { Link } from \"react-router-dom\";\r\nimport ButtonNoAccount from \"../components/Button/ButtonNoAccount\";\r\nimport jwt from \"jsonwebtoken\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nclass Login extends React.Component {\r\n\tcomponentDidMount = () => {\r\n\t\tthis.Verify();\r\n\t};\r\n\r\n\tVerify = () => {\r\n\t\tlet isExpired = true;\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\tif (token) {\r\n\t\t\tvar decodedToken = jwt.decode(token, { complete: true });\r\n\t\t\tvar dateNow = new Date();\r\n\t\t\tconsole.log(decodedToken, dateNow.getTime() / 1000);\r\n\t\t\tif (decodedToken.payload.exp >= dateNow.getTime() / 1000) {\r\n\t\t\t\tisExpired = false;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (isExpired === false) {\r\n\t\t\tconsole.log(\"here\");\r\n\t\t\tthis.props.history.push(`/history`); // redirection vers la page login\r\n\t\t}\r\n\t};\r\n\trender = () => {\r\n\t\treturn (\r\n\t\t\t<motion.div exit={{ opacity: 0 }}>\r\n\t\t\t\t<div className=\"login-logo\">\r\n\t\t\t\t\t<img src={logo} className=\"logo\" alt=\"Logo\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"login-lowympact\">Lowympact</div>\r\n\t\t\t\t<Link to=\"/signup\" className=\"button-account\">\r\n\t\t\t\t\t<ButtonCreateAccount />\r\n\t\t\t\t</Link>\r\n\t\t\t\t<Link to=\"/signin\" className=\"button-connect\">\r\n\t\t\t\t\t<ButtonLogin />\r\n\t\t\t\t</Link>\r\n\t\t\t\t<Link to=\"/history\" className=\"button-no-account\">\r\n\t\t\t\t\t<ButtonNoAccount />\r\n\t\t\t\t</Link>\r\n\t\t\t\t<div className=\"logo-fruits\">\r\n\t\t\t\t\t<img src={fruits} className=\"logo\" alt=\"Fruits\" />\r\n\t\t\t\t</div>\r\n\t\t\t</motion.div>\r\n\t\t);\r\n\t};\r\n}\r\nexport default Login;\r\n","import L from \"leaflet\";\r\n\r\nL.Curve = L.Path.extend({\r\n\toptions: {},\r\n\r\n\tinitialize: function (path, options) {\r\n\t\t//1\r\n\t\tL.setOptions(this, options);\r\n\t\tthis._initialUpdate = true;\r\n\t\tthis._setPath(path);\r\n\t},\r\n\r\n\tgetPath: function () {\r\n\t\treturn this._coords;\r\n\t},\r\n\r\n\tsetPath: function (path, options) {\r\n\t\tthis._initialUpdate = true;\r\n\t\tthis._setPath(path);\r\n\t\treturn this.redraw();\r\n\t},\r\n\r\n\tgetBounds: function () {\r\n\t\treturn this._bounds;\r\n\t},\r\n\r\n\t_setPath: function (path) {\r\n\t\t//2\r\n\t\tthis._coords = path;\r\n\t\tthis._bounds = this._computeBounds();\r\n\t},\r\n\r\n\t_computeBounds: function () {\r\n\t\t//3\r\n\t\tvar bound = new L.LatLngBounds();\r\n\t\tvar lastPoint;\r\n\t\tvar lastCommand;\r\n\t\tvar coord;\r\n\t\tfor (var i = 0; i < this._coords.length; i++) {\r\n\t\t\tcoord = this._coords[i];\r\n\t\t\tif (typeof coord == \"string\" || coord instanceof String) {\r\n\t\t\t\tlastCommand = coord;\r\n\t\t\t} else if (lastCommand == \"H\") {\r\n\t\t\t\tbound.extend([lastPoint.lat, coord[0]]);\r\n\t\t\t\tlastPoint = new L.latLng(lastPoint.lat, coord[0]);\r\n\t\t\t} else if (lastCommand == \"V\") {\r\n\t\t\t\tbound.extend([coord[0], lastPoint.lng]);\r\n\t\t\t\tlastPoint = new L.latLng(coord[0], lastPoint.lng);\r\n\t\t\t} else if (lastCommand == \"C\") {\r\n\t\t\t\tvar controlPoint1 = new L.latLng(coord[0], coord[1]);\r\n\t\t\t\tcoord = this._coords[++i];\r\n\t\t\t\tvar controlPoint2 = new L.latLng(coord[0], coord[1]);\r\n\t\t\t\tcoord = this._coords[++i];\r\n\t\t\t\tvar endPoint = new L.latLng(coord[0], coord[1]);\r\n\r\n\t\t\t\tbound.extend(controlPoint1);\r\n\t\t\t\tbound.extend(controlPoint2);\r\n\t\t\t\tbound.extend(endPoint);\r\n\r\n\t\t\t\tendPoint.controlPoint1 = controlPoint1;\r\n\t\t\t\tendPoint.controlPoint2 = controlPoint2;\r\n\t\t\t\tlastPoint = endPoint;\r\n\t\t\t} else if (lastCommand == \"S\") {\r\n\t\t\t\tvar controlPoint2 = new L.latLng(coord[0], coord[1]);\r\n\t\t\t\tcoord = this._coords[++i];\r\n\t\t\t\tvar endPoint = new L.latLng(coord[0], coord[1]);\r\n\r\n\t\t\t\tvar controlPoint1 = lastPoint;\r\n\t\t\t\tif (lastPoint.controlPoint2) {\r\n\t\t\t\t\tvar diffLat = lastPoint.lat - lastPoint.controlPoint2.lat;\r\n\t\t\t\t\tvar diffLng = lastPoint.lng - lastPoint.controlPoint2.lng;\r\n\t\t\t\t\tcontrolPoint1 = new L.latLng(\r\n\t\t\t\t\t\tlastPoint.lat + diffLat,\r\n\t\t\t\t\t\tlastPoint.lng + diffLng\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbound.extend(controlPoint1);\r\n\t\t\t\tbound.extend(controlPoint2);\r\n\t\t\t\tbound.extend(endPoint);\r\n\r\n\t\t\t\tendPoint.controlPoint1 = controlPoint1;\r\n\t\t\t\tendPoint.controlPoint2 = controlPoint2;\r\n\t\t\t\tlastPoint = endPoint;\r\n\t\t\t} else if (lastCommand == \"Q\") {\r\n\t\t\t\tvar controlPoint = new L.latLng(coord[0], coord[1]);\r\n\t\t\t\tcoord = this._coords[++i];\r\n\t\t\t\tvar endPoint = new L.latLng(coord[0], coord[1]);\r\n\r\n\t\t\t\tbound.extend(controlPoint);\r\n\t\t\t\tbound.extend(endPoint);\r\n\r\n\t\t\t\tendPoint.controlPoint = controlPoint;\r\n\t\t\t\tlastPoint = endPoint;\r\n\t\t\t} else if (lastCommand == \"T\") {\r\n\t\t\t\tvar endPoint = new L.latLng(coord[0], coord[1]);\r\n\r\n\t\t\t\tvar controlPoint = lastPoint;\r\n\t\t\t\tif (lastPoint.controlPoint) {\r\n\t\t\t\t\tvar diffLat = lastPoint.lat - lastPoint.controlPoint.lat;\r\n\t\t\t\t\tvar diffLng = lastPoint.lng - lastPoint.controlPoint.lng;\r\n\t\t\t\t\tcontrolPoint = new L.latLng(\r\n\t\t\t\t\t\tlastPoint.lat + diffLat,\r\n\t\t\t\t\t\tlastPoint.lng + diffLng\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbound.extend(controlPoint);\r\n\t\t\t\tbound.extend(endPoint);\r\n\r\n\t\t\t\tendPoint.controlPoint = controlPoint;\r\n\t\t\t\tlastPoint = endPoint;\r\n\t\t\t} else {\r\n\t\t\t\tbound.extend(coord);\r\n\t\t\t\tlastPoint = new L.latLng(coord[0], coord[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn bound;\r\n\t},\r\n\r\n\t//TODO: use a centroid algorithm instead\r\n\tgetCenter: function () {\r\n\t\treturn this._bounds.getCenter();\r\n\t},\r\n\r\n\t_update: function () {\r\n\t\t//5\r\n\t\tif (!this._map) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis._updatePath();\r\n\t},\r\n\r\n\t_updatePath: function () {\r\n\t\t//6\r\n\t\tthis._renderer._updatecurve(this);\r\n\t},\r\n\r\n\t_project: function () {\r\n\t\t//4\r\n\t\tvar coord, lastCoord, curCommand, curPoint;\r\n\r\n\t\tthis._points = [];\r\n\r\n\t\tfor (var i = 0; i < this._coords.length; i++) {\r\n\t\t\tcoord = this._coords[i];\r\n\t\t\tif (typeof coord == \"string\" || coord instanceof String) {\r\n\t\t\t\tthis._points.push(coord);\r\n\t\t\t\tcurCommand = coord;\r\n\t\t\t} else {\r\n\t\t\t\tswitch (coord.length) {\r\n\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\tcurPoint = this._map.latLngToLayerPoint(coord);\r\n\t\t\t\t\t\tlastCoord = coord;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\tif (curCommand == \"H\") {\r\n\t\t\t\t\t\t\tcurPoint = this._map.latLngToLayerPoint([\r\n\t\t\t\t\t\t\t\tlastCoord[0],\r\n\t\t\t\t\t\t\t\tcoord[0],\r\n\t\t\t\t\t\t\t]);\r\n\t\t\t\t\t\t\tlastCoord = [lastCoord[0], coord[0]];\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tcurPoint = this._map.latLngToLayerPoint([\r\n\t\t\t\t\t\t\t\tcoord[0],\r\n\t\t\t\t\t\t\t\tlastCoord[1],\r\n\t\t\t\t\t\t\t]);\r\n\t\t\t\t\t\t\tlastCoord = [coord[0], lastCoord[1]];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tthis._points.push(curPoint);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n});\r\n\r\nL.curve = function (path, options) {\r\n\treturn new L.Curve(path, options);\r\n};\r\n\r\nL.SVG.include({\r\n\t//7\r\n\t_updatecurve: function (layer) {\r\n\t\tthis._setPath(layer, this._curvePointsToPath(layer._points));\r\n\t\tif (layer.options.animate) {\r\n\t\t\tvar path = layer._path;\r\n\t\t\tvar length = path.getTotalLength();\r\n\r\n\t\t\tif (!layer.options.dashArray) {\r\n\t\t\t\tpath.style.strokeDasharray = length + \" \" + length;\r\n\t\t\t}\r\n\r\n\t\t\tif (layer._initialUpdate) {\r\n\t\t\t\tpath.animate(\r\n\t\t\t\t\t[{ strokeDashoffset: length }, { strokeDashoffset: 0 }],\r\n\t\t\t\t\tlayer.options.animate\r\n\t\t\t\t);\r\n\t\t\t\tlayer._initialUpdate = false;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t_curvePointsToPath: function (points) {\r\n\t\tvar point,\r\n\t\t\tcurCommand,\r\n\t\t\tstr = \"\";\r\n\t\tfor (var i = 0; i < points.length; i++) {\r\n\t\t\tpoint = points[i];\r\n\t\t\tif (typeof point == \"string\" || point instanceof String) {\r\n\t\t\t\tcurCommand = point;\r\n\t\t\t\tstr += curCommand;\r\n\t\t\t} else {\r\n\t\t\t\tswitch (curCommand) {\r\n\t\t\t\t\tcase \"H\":\r\n\t\t\t\t\t\tstr += point.x + \" \";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"V\":\r\n\t\t\t\t\t\tstr += point.y + \" \";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tstr += point.x + \",\" + point.y + \" \";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn str || \"M0 0\";\r\n\t},\r\n});\r\n","// import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Path, withLeaflet } from \"react-leaflet\";\r\nimport { curve } from \"./leaflet.curve\";\r\nimport L from \"leaflet\";\r\n\r\nclass Curve extends Path {\r\n\tcreateLeafletElement(props) {\r\n\t\tconst { positions, option, ...options } = props;\r\n\t\treturn L.curve(positions, option, this.getOptions(options));\r\n\t}\r\n\r\n\tupdateLeafletElement(fromProps, toProps) {\r\n\t\tif (toProps.positions !== fromProps.positions) {\r\n\t\t\tthis.leafletElement.setPath(toProps.positions);\r\n\t\t}\r\n\t\tthis.setStyleIfChanged(fromProps, toProps);\r\n\t}\r\n}\r\n\r\nCurve.propTypes = {\r\n\tchildren: PropTypes.oneOfType([\r\n\t\tPropTypes.arrayOf(PropTypes.node),\r\n\t\tPropTypes.node,\r\n\t]),\r\n\toption: PropTypes.object,\r\n\tpositions: PropTypes.array.isRequired,\r\n};\r\n\r\nexport default withLeaflet(Curve);\r\n\r\n/*\r\n  componentWillMount() {\r\n    super.componentWillMount();\r\n    const { positions, ...options } = this.props\r\n    this.leafletElement = L.curve(positions, this.getOptions(options))\r\n  }*/\r\n","import React from \"react\";\r\nimport { Map, TileLayer, Marker } from \"react-leaflet\";\r\nimport \"./Traceability.css\";\r\nimport { Swiper, SwiperSlide } from \"swiper/react\";\r\nimport { Curve } from \"./leaflet-curve\";\r\nimport L from \"leaflet\";\r\n// Import Swiper styles\r\nimport \"swiper/swiper-bundle.css\";\r\n\r\nclass Traceability extends React.Component {\r\n\tmap = undefined;\r\n\tstate = {\r\n\t\tzoom: 12,\r\n\t\tswiper: undefined,\r\n\t\tcurrentIndex: 0,\r\n\t\tmap: undefined,\r\n\t};\r\n\r\n\tgetMaterialIcon = (mode) => {\r\n\t\tswitch (mode) {\r\n\t\t\tcase \"Charette\":\r\n\t\t\t\treturn \"directions_bike\";\r\n\t\t\tcase \"Plane\":\r\n\t\t\t\treturn \"flight_takeoff\";\r\n\t\t\tcase \"Train\":\r\n\t\t\t\treturn \"train\";\r\n\t\t\tcase \"Boat\":\r\n\t\t\t\treturn \"directions_boat_filled\";\r\n\t\t\tcase \"Truck\":\r\n\t\t\t\treturn \"local_shipping\";\r\n\t\t\tdefault:\r\n\t\t\t\treturn \"nature_people\";\r\n\t\t}\r\n\t};\r\n\r\n\tgetTransportMode = (mode) => {\r\n\t\tswitch (mode) {\r\n\t\t\tcase \"Charette\":\r\n\t\t\t\treturn \"vlo\";\r\n\t\t\tcase \"Plane\":\r\n\t\t\t\treturn \"avion\";\r\n\t\t\tcase \"Train\":\r\n\t\t\t\treturn \"train\";\r\n\t\t\tcase \"Boat\":\r\n\t\t\t\treturn \"bateau\";\r\n\t\t\tcase \"Truck\":\r\n\t\t\t\treturn \"camion\";\r\n\t\t\tdefault:\r\n\t\t\t\treturn mode;\r\n\t\t}\r\n\t};\r\n\tgetTranslation = (mode) => {\r\n\t\tswitch (mode) {\r\n\t\t\tcase \"maker\":\r\n\t\t\t\treturn \"Fabricant\";\r\n\t\t\tcase \"productor\":\r\n\t\t\t\treturn \"Producteur\";\r\n\t\t\tcase \"shop\":\r\n\t\t\t\treturn \"Revendeur\";\r\n\t\t\tdefault:\r\n\t\t\t\treturn mode;\r\n\t\t}\r\n\t};\r\n\r\n\tdisplaySlides = () => {\r\n\t\tlet slides = <React.Fragment />;\r\n\t\tif (this.props.products) {\r\n\t\t\tslides = this.props.products.map((product) => {\r\n\t\t\t\tlet pastille = \"product-slide-pastille past-green\";\r\n\t\t\t\tif (product.TransportCO2Impact?.value > 10) {\r\n\t\t\t\t\tpastille = \"product-slide-pastille past-orange\";\r\n\t\t\t\t}\r\n\t\t\t\tif (product.TransportCO2Impact?.value > 100) {\r\n\t\t\t\t\tpastille = \"product-slide-pastille past-red\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<SwiperSlide>\r\n\t\t\t\t\t\t<div className=\"product-slide-container\">\r\n\t\t\t\t\t\t\t<div className=\"product-slide-icon\">\r\n\t\t\t\t\t\t\t\t<span class=\"material-icons\">\r\n\t\t\t\t\t\t\t\t\t{this.getMaterialIcon(product.transport)}\r\n\t\t\t\t\t\t\t\t</span>\r\n\r\n\t\t\t\t\t\t\t\t<div className=\"product-slide-name\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"product-slide-name-product\">\r\n\t\t\t\t\t\t\t\t\t\t{product.productsOutput[0].productName}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"product-slide-name-transport\">\r\n\t\t\t\t\t\t\t\t\t\tTransport en{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t{this.getTransportMode(\r\n\t\t\t\t\t\t\t\t\t\t\tproduct.transport\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"product-slide-origin-wrapper\">\r\n\t\t\t\t\t\t\t\t<div className=\"product-transport-ui\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"transport-ui-circle\"></div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"transport-ui-tiret\"></div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"transport-ui-circle circle-bis\"></div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"product-slide-transport-container\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"product-slide-bigname\">\r\n\t\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t\t{product.seller.localisation.city},{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\tproduct.seller.localisation\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.country\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"product-slide-lowername2\">\r\n\t\t\t\t\t\t\t\t\t\t{this.getTranslation(\r\n\t\t\t\t\t\t\t\t\t\t\tproduct.seller?.type\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t{\": \"}\r\n\t\t\t\t\t\t\t\t\t\t{product.seller?.name}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<div className=\"product-slide-bigname bigname-lower\">\r\n\t\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t\t{product.buyer.localisation.city},{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{product.buyer.localisation.country}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"product-slide-lowername2\">\r\n\t\t\t\t\t\t\t\t\t\t{this.getTranslation(\r\n\t\t\t\t\t\t\t\t\t\t\tproduct.buyer?.type\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t{\": \"}\r\n\t\t\t\t\t\t\t\t\t\t{product.buyer?.name}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"product-slide-arrow\">{\">\"}</div>\r\n\t\t\t\t\t\t\t<div className=\"product-slide-consumption\">\r\n\t\t\t\t\t\t\t\t<div className={pastille}></div>\r\n\t\t\t\t\t\t\t\t<div>{Math.round(product.dist.value)} km </div>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t{product.TransportCO2Impact?.value > 1\r\n\t\t\t\t\t\t\t\t\t\t? Math.round(\r\n\t\t\t\t\t\t\t\t\t\t\t\tproduct.TransportCO2Impact\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t?.value\r\n\t\t\t\t\t\t\t\t\t\t  )\r\n\t\t\t\t\t\t\t\t\t\t: \"< 1\"}{\" \"}\r\n\t\t\t\t\t\t\t\t\tkg CO2{\" \"}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</SwiperSlide>\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn slides;\r\n\t};\r\n\r\n\thandleMarkerClick = (latlng, index) => {\r\n\t\t// window.scrollTo({ top: \"8000px\", behavior: \"smooth\" });\r\n\t\tlet elem = document.getElementsByClassName(\"swiper-container\");\r\n\t\tif (elem[0]) {\r\n\t\t\telem[0].scrollIntoView({ behavior: \"smooth\" });\r\n\t\t}\r\n\t\tconsole.log(index);\r\n\t\tif (index >= this.props.products?.length) {\r\n\t\t\tthis.state.swiper.slideTo(index - 1, 500);\r\n\t\t} else {\r\n\t\t\tthis.state.swiper.slideTo(index, 500);\r\n\t\t}\r\n\t\tlet zoom = 5;\r\n\t\tif (this.props.products && this.props.products[index]) {\r\n\t\t\tlet p = this.props.products[index];\r\n\t\t\tconsole.log(\r\n\t\t\t\t[p.buyer.localisation.latitude, p.buyer.localisation.longitude],\r\n\t\t\t\t[\r\n\t\t\t\t\tp.seller.localisation.latitude,\r\n\t\t\t\t\tp.seller.localisation.longitude,\r\n\t\t\t\t]\r\n\t\t\t);\r\n\t\t\tzoom = getZoomRatio(\r\n\t\t\t\t[p.buyer.localisation.latitude, p.buyer.localisation.longitude],\r\n\t\t\t\t[\r\n\t\t\t\t\tp.seller.localisation.latitude,\r\n\t\t\t\t\tp.seller.localisation.longitude,\r\n\t\t\t\t]\r\n\t\t\t);\r\n\t\t}\r\n\t\tconsole.log(zoom);\r\n\t\tthis.map.leafletElement.flyTo(latlng, zoom, { duration: 0.5 });\r\n\t};\r\n\r\n\tonSlideChange = (index) => {\r\n\t\tthis.setState({ currentIndex: index });\r\n\t\tlet zoom = 5;\r\n\t\tif (this.props.products && this.props.products[index]) {\r\n\t\t\tlet p = this.props.products[index];\r\n\r\n\t\t\tzoom = getZoomRatio(\r\n\t\t\t\t[p.buyer.localisation.latitude, p.buyer.localisation.longitude],\r\n\t\t\t\t[\r\n\t\t\t\t\tp.seller.localisation.latitude,\r\n\t\t\t\t\tp.seller.localisation.longitude,\r\n\t\t\t\t]\r\n\t\t\t);\r\n\r\n\t\t\tlet lat =\r\n\t\t\t\t(parseFloat(p.seller.localisation.latitude) +\r\n\t\t\t\t\tparseFloat(p.buyer.localisation.latitude)) /\r\n\t\t\t\t2;\r\n\t\t\tlet long =\r\n\t\t\t\t(parseFloat(p.seller.localisation.longitude) +\r\n\t\t\t\t\tparseFloat(p.buyer.localisation.longitude)) /\r\n\t\t\t\t2;\r\n\t\t\tconsole.log(zoom);\r\n\t\t\tthis.map.leafletElement.flyTo([lat, long], zoom, { duration: 0.5 });\r\n\t\t}\r\n\t};\r\n\r\n\tdisplayMarker = () => {\r\n\t\tlet markers = <React.Fragment />;\r\n\t\tif (this.props.products) {\r\n\t\t\tmarkers = this.props.products.map((product, i) => {\r\n\t\t\t\tlet marker1 = <React.Fragment />;\r\n\t\t\t\tlet lat1 = parseFloat(product?.buyer?.localisation?.latitude);\r\n\t\t\t\tlet long1 = parseFloat(product?.buyer?.localisation?.longitude);\r\n\t\t\t\tlet marker2 = <React.Fragment />;\r\n\t\t\t\tlet lat2 = parseFloat(product?.seller?.localisation?.latitude);\r\n\t\t\t\tlet long2 = parseFloat(\r\n\t\t\t\t\tproduct?.seller?.localisation?.longitude\r\n\t\t\t\t);\r\n\t\t\t\tlet icon;\r\n\t\t\t\tlet icon2;\r\n\t\t\t\tlet zIndex = 0;\r\n\t\t\t\tif (i === this.state.currentIndex) {\r\n\t\t\t\t\ticon = new L.Icon({\r\n\t\t\t\t\t\ticonUrl: \"/images/utils/map.png\", //require('../../images/logo/logo.svg'),\r\n\t\t\t\t\t\ticonRetinaUrl: \"/images/utils/map.png\", //\"/images/images_volume/1-l.png\", //require('../../images/logo/logo.svg'),\r\n\t\t\t\t\t\ticonSize: new L.Point(32, 32),\r\n\t\t\t\t\t\tclassName: \"leaflet-mark-icon\",\r\n\t\t\t\t\t});\r\n\t\t\t\t\ticon2 = new L.Icon({\r\n\t\t\t\t\t\ticonUrl: \"/images/utils/map.png\", //require('../../images/logo/logo.svg'),\r\n\t\t\t\t\t\ticonRetinaUrl: \"/images/utils/map3.png\", //\"/images/images_volume/1-l.png\", //require('../../images/logo/logo.svg'),\r\n\t\t\t\t\t\ticonSize: new L.Point(32, 32),\r\n\t\t\t\t\t\tclassName: \"leaflet-mark-icon\",\r\n\t\t\t\t\t});\r\n\t\t\t\t\tzIndex = 5;\r\n\t\t\t\t} else {\r\n\t\t\t\t\ticon = new L.Icon({\r\n\t\t\t\t\t\ticonUrl: \"/images/utils/map2.png\", //require('../../images/logo/logo.svg'),\r\n\t\t\t\t\t\ticonRetinaUrl: \"/images/utils/map2.png\", //\"/images/images_volume/1-l.png\", //require('../../images/logo/logo.svg'),\r\n\t\t\t\t\t\ticonSize: new L.Point(25, 25),\r\n\t\t\t\t\t\tclassName: \"leaflet-mark-icon\",\r\n\t\t\t\t\t});\r\n\t\t\t\t\ticon2 = new L.Icon({\r\n\t\t\t\t\t\ticonUrl: \"/images/utils/map2.png\", //require('../../images/logo/logo.svg'),\r\n\t\t\t\t\t\ticonRetinaUrl: \"/images/utils/map2.png\", //\"/images/images_volume/1-l.png\", //require('../../images/logo/logo.svg'),\r\n\t\t\t\t\t\ticonSize: new L.Point(25, 25),\r\n\t\t\t\t\t\tclassName: \"leaflet-mark-icon\",\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (lat1 && long1) {\r\n\t\t\t\t\tmarker1 = (\r\n\t\t\t\t\t\t<Marker\r\n\t\t\t\t\t\t\tzIndexOffset={zIndex}\r\n\t\t\t\t\t\t\ticon={icon}\r\n\t\t\t\t\t\t\tposition={[lat1, long1]}\r\n\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\tthis.handleMarkerClick(\r\n\t\t\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t\t\tparseFloat(\r\n\t\t\t\t\t\t\t\t\t\t\tproduct.buyer.localisation.latitude\r\n\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\tparseFloat(\r\n\t\t\t\t\t\t\t\t\t\t\tproduct.buyer.localisation.longitude\r\n\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\ti + 1\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{/* <Popup>{product.buyer.name}</Popup> */}\r\n\t\t\t\t\t\t</Marker>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\tif (lat2 && long2) {\r\n\t\t\t\t\tmarker2 = (\r\n\t\t\t\t\t\t<Marker\r\n\t\t\t\t\t\t\tzIndexOffset={zIndex}\r\n\t\t\t\t\t\t\ticon={icon2}\r\n\t\t\t\t\t\t\tposition={[lat2, long2]}\r\n\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\tthis.handleMarkerClick(\r\n\t\t\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t\t\tparseFloat(\r\n\t\t\t\t\t\t\t\t\t\t\tproduct.seller.localisation.latitude\r\n\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\tparseFloat(\r\n\t\t\t\t\t\t\t\t\t\t\tproduct.seller.localisation\r\n\t\t\t\t\t\t\t\t\t\t\t\t.longitude\r\n\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\ti\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{/* <Popup>{product.seller.name}</Popup> */}\r\n\t\t\t\t\t\t</Marker>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet color = \"#1b3044\";\r\n\t\t\t\tlet curves = document.getElementsByClassName(\r\n\t\t\t\t\t\"leaflet-interactive\"\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif (curves && curves[i] && i === this.state.currentIndex) {\r\n\t\t\t\t\tcurves[i].setAttribute(\"stroke\", \"#78be95\");\r\n\t\t\t\t} else if (curves && curves[i]) {\r\n\t\t\t\t\tcurves[i].setAttribute(\"stroke\", \"#1b3044\");\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t<div className=\"test\">\r\n\t\t\t\t\t\t\t<Curve\r\n\t\t\t\t\t\t\t\tpositions={getCurveOptions(\r\n\t\t\t\t\t\t\t\t\tlat2,\r\n\t\t\t\t\t\t\t\t\tlong2,\r\n\t\t\t\t\t\t\t\t\tlat1,\r\n\t\t\t\t\t\t\t\t\tlong1\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\toption={{\r\n\t\t\t\t\t\t\t\t\tcolor: color,\r\n\t\t\t\t\t\t\t\t\tfill: false,\r\n\t\t\t\t\t\t\t\t\t// animate: animate,\r\n\t\t\t\t\t\t\t\t\tdelay: 5000,\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{marker1}\r\n\t\t\t\t\t\t{marker2}\r\n\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn markers;\r\n\t};\r\n\r\n\trender = () => {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Map\r\n\t\t\t\t\tcenter={[51.505, -0.09]}\r\n\t\t\t\t\tzoom={1}\r\n\t\t\t\t\tminZoom={1}\r\n\t\t\t\t\tscrollWheelZoom={true}\r\n\t\t\t\t\tmaxBounds={[\r\n\t\t\t\t\t\t[-90, -180],\r\n\t\t\t\t\t\t[90, 180],\r\n\t\t\t\t\t]}\r\n\t\t\t\t\tmaxBoundsViscosity={1}\r\n\t\t\t\t\tref={(ref) => {\r\n\t\t\t\t\t\tthis.map = ref;\r\n\t\t\t\t\t\tthis.props.getBottomRef(ref);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\twhenCreated={(map) => this.setState({ map })}\r\n\t\t\t\t>\r\n\t\t\t\t\t<TileLayer\r\n\t\t\t\t\t\tattribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a>'\r\n\t\t\t\t\t\turl=\"https://stamen-tiles-{s}.a.ssl.fastly.net/toner-background/{z}/{x}/{y}{r}.png\" //'https://maps.wikimedia.org/osm-intl/{z}/{x}/{y}{r}.png' //'https://{s}.tile.osm.org/{z}/{x}/{y}.png'\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t{this.displayMarker()}\r\n\t\t\t\t</Map>\r\n\t\t\t\t<Swiper\r\n\t\t\t\t\tspaceBetween={10}\r\n\t\t\t\t\tslidesPerView={1.2}\r\n\t\t\t\t\tcenteredSlides={true}\r\n\t\t\t\t\tonSlideChange={(i) => this.onSlideChange(i.activeIndex)}\r\n\t\t\t\t\tonSwiper={(swiper) => this.setState({ swiper: swiper })}\r\n\t\t\t\t>\r\n\t\t\t\t\t{this.displaySlides()}\r\n\t\t\t\t</Swiper>\r\n\t\t\t</div>\r\n\t\t);\r\n\t};\r\n}\r\n\r\nexport default Traceability;\r\n\r\nfunction getDistance(origin, destination) {\r\n\t// return distance in meters\r\n\tvar lon1 = toRadian(origin[1]),\r\n\t\tlat1 = toRadian(origin[0]),\r\n\t\tlon2 = toRadian(destination[1]),\r\n\t\tlat2 = toRadian(destination[0]);\r\n\r\n\tvar deltaLat = lat2 - lat1;\r\n\tvar deltaLon = lon2 - lon1;\r\n\r\n\tvar a =\r\n\t\tMath.pow(Math.sin(deltaLat / 2), 2) +\r\n\t\tMath.cos(lat1) * Math.cos(lat2) * Math.pow(Math.sin(deltaLon / 2), 2);\r\n\tvar c = 2 * Math.asin(Math.sqrt(a));\r\n\tvar EARTH_RADIUS = 6371;\r\n\treturn c; //* EARTH_RADIUS * 1000;\r\n}\r\n\r\nfunction toRadian(degree) {\r\n\treturn (degree * Math.PI) / 180;\r\n}\r\n\r\nfunction getZoomRatio(origin, destination) {\r\n\tvar distance = getDistance(origin, destination);\r\n\tconsole.log(distance);\r\n\treturn 9 - Math.sqrt(distance * 150);\r\n}\r\n\r\nfunction getCurveOptions(lat1, long1, lat2, long2) {\r\n\tvar latlng1 = [lat1, long1],\r\n\t\tlatlng2 = [lat2, long2];\r\n\r\n\tvar offsetX = latlng2[1] - latlng1[1],\r\n\t\toffsetY = latlng2[0] - latlng1[0];\r\n\r\n\tvar r = Math.sqrt(Math.pow(offsetX, 2) + Math.pow(offsetY, 2)),\r\n\t\ttheta = Math.atan2(offsetY, offsetX);\r\n\r\n\tvar thetaOffset = 3.14 / 10;\r\n\r\n\tvar r2 = r / 2 / Math.cos(thetaOffset),\r\n\t\ttheta2 = theta + thetaOffset;\r\n\r\n\tvar midpointX = r2 * Math.cos(theta2) + latlng1[1],\r\n\t\tmidpointY = r2 * Math.sin(theta2) + latlng1[0];\r\n\r\n\tvar midpointLatLng = [midpointY, midpointX];\r\n\r\n\treturn [\"M\", latlng1, \"Q\", midpointLatLng, latlng2];\r\n}\r\n\r\nfunction getChildElementIndex(node) {\r\n\treturn Array.prototype.indexOf.call(node.parentNode.children, node);\r\n}\r\n","export const PRODUCTS =\r\n    [\r\n        {\r\n            id: 0,\r\n            name:'Pte  tartiner',\r\n            image:'../assets/images/nutella.jpeg',\r\n            brand:'Nutella',\r\n            label:'e', \r\n            ecoscore_score: 26,       \r\n        },\r\n        {\r\n            id: 1,\r\n            name:'Fruits',\r\n            image:'../assets/images/fruits-vegetables-basket-by-oblik-studio.svg',\r\n            brand:'France Farms',\r\n            label:'a',  \r\n            ecoscore_score: 100,        \r\n        },\r\n        {\r\n            id: 2,\r\n            name:'Coca-cola Zero',\r\n            image:'../assets/images/fruits-vegetables-basket-by-oblik-studio.svg',\r\n            brand:'Coca-cola',\r\n            label:'d',\r\n            ecoscore_score: 35,         \r\n        },\r\n        {\r\n            id: 3,\r\n            name:'Biscuit du Vieux',\r\n            image:'../assets/images/fruits-vegetables-basket-by-oblik-studio.svg',\r\n            brand:'Unconnu',\r\n            label:'c',  \r\n            ecoscore_score: 70,       \r\n        }\r\n    ];","export default __webpack_public_path__ + \"static/media/nutella.14ecd263.png\";","import React from \"react\";\r\nimport \"./Environnement.css\";\r\nimport { Swiper, SwiperSlide } from \"swiper/react\";\r\n// Import Swiper styles\r\nimport \"swiper/swiper-bundle.css\";\r\nimport { CircleProgress } from \"react-gradient-progress\";\r\nimport { PRODUCTS } from \"../../assets/alternatives/alternatives\";\r\nimport nutella from \"../../assets/images/nutella.png\";\r\n\r\nfunction RenderColor({ item }) {\r\n  var labelColor;\r\n  var labelLevel;\r\n  if (item.ecoscore_score <= 33) {\r\n    labelColor = \"red\";\r\n    labelLevel = \"Mauvais\";\r\n  } else if (item.ecoscore_score > 33 && item.ecoscore_score < 67) {\r\n    labelColor = \"yellow\";\r\n    labelLevel = \"Moyen\";\r\n  } else {\r\n    labelColor = \"green\";\r\n    labelLevel = \"Bonne\";\r\n  }\r\n  return (\r\n    <div className=\"product-alternative-label-position\">\r\n      <div className=\"product-alternative-label\">\r\n        <div style={{ color: labelColor }}></div>\r\n        <div className=\"product-alternative-label-text\">\r\n          {item.ecoscore_score}/100\r\n        </div>\r\n      </div>\r\n      <div className=\"product-alternative-label-level \">{labelLevel}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nclass Environnement extends React.Component {\r\n  state = {\r\n    swiper: undefined,\r\n    currentIndex: 0,\r\n    width: undefined,\r\n    showTransport: false,\r\n  };\r\n\r\n  getMaterialIcon = (mode) => {\r\n    switch (mode) {\r\n      case \"Transformation\":\r\n        return \"transform\";\r\n      case \"Arrow\":\r\n        return \"arrow_drop_down\";\r\n      case \"Consommation\":\r\n        return \"microwave\";\r\n      case \"Distribution\":\r\n        return \"store\";\r\n      case \"Recyclable\":\r\n        return \"check_circle_outline\";\r\n      case \"Non recyclable\":\r\n        return \"highlight_off\";\r\n      case \"Truck\":\r\n        return \"local_shipping\";\r\n      case \"Packaging\":\r\n        return \"inventory_2\";\r\n      case \"Agriculture\":\r\n        return \"agriculture\";\r\n      case \"Transport\":\r\n        return \"local_shipping\";\r\n      default:\r\n        return \"view_in_ar\";\r\n    }\r\n  };\r\n\r\n  getColor = (note) => {\r\n    if (note > 67) {\r\n      return \"green\";\r\n    }\r\n    if (note <= 33) {\r\n      return \"red\";\r\n    }\r\n    return \"yellow\";\r\n  };\r\n\r\n  getColorImpact = (note) => {\r\n    if (note > 70) {\r\n      return \"green\";\r\n    }\r\n    if (note <= 40) {\r\n      return \"red\";\r\n    }\r\n    return \"yellow\";\r\n  };\r\n\r\n  getLabel = (note) => {\r\n    if (note > 67) {\r\n      return \"Bon\";\r\n    }\r\n    if (note <= 33) {\r\n      return \"Mauvais\";\r\n    }\r\n    return \"Moyen\";\r\n  };\r\n\r\n  getLabelImpact = (note) => {\r\n    if (note > 60) {\r\n      return \"Impact fort\";\r\n    }\r\n    if (note <= 30) {\r\n      return \"Impact faible\";\r\n    }\r\n    return \"Impact moyen\";\r\n  };\r\n\r\n  getLabelImpactPackaging = (note) => {\r\n    if (note > 2) {\r\n      return \"Bon\";\r\n    }\r\n    if (note < -2) {\r\n      return \"Mauvais\";\r\n    }\r\n    return \"Moyen\";\r\n  };\r\n\r\n  getColorImpactPackaging = (note) => {\r\n    if (note > 2) {\r\n      return \"green\";\r\n    }\r\n    if (note < -2) {\r\n      return \"red\";\r\n    }\r\n    return \"yellow\";\r\n  };\r\n\r\n  displaySlides = () => {\r\n    let slides = <React.Fragment></React.Fragment>;\r\n\r\n    if (\r\n      this.props.dataEcoScore &&\r\n      this.props.dataEcoScore?.adjustments?.packaging?.packagings.length >= 1\r\n    ) {\r\n      slides = this.props.dataEcoScore?.adjustments?.packaging?.packagings.map(\r\n        (data) => {\r\n          var recyclable = \"\";\r\n          if (data.recycling) {\r\n            recyclable = data.recycling.split(\":\")[1];\r\n          }\r\n          if (recyclable && recyclable == \"recycle\") {\r\n            recyclable = \"Recyclable\";\r\n          } else if (recyclable && recyclable == \"discard\") {\r\n            recyclable = \"Non recyclable\";\r\n          } else {\r\n            recyclable = \"\";\r\n          }\r\n\r\n          return (\r\n            <div>\r\n              <SwiperSlide>\r\n                <div className=\"env-product-slide-container \">\r\n                  <div className=\"env-product-slide-icon\">\r\n                    <span class=\"material-icons env-icon-label\">\r\n                      {this.getMaterialIcon(\"\")}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"env-product-slide-wrapper\">\r\n                    <div className=\"product-slide-name\">\r\n                      {data?.material.split(\":\")[1]}\r\n                    </div>\r\n                    <div className=\"product-ecoscore\">\r\n                      Ecoscore : {data?.ecoscore_material_score}\r\n                    </div>\r\n\r\n                    <div className=\"env-history-label-container\">\r\n                      <span\r\n                        className=\"packaging-label-color\"\r\n                        style={{\r\n                          color: this.getColor(data?.ecoscore_material_score),\r\n                        }}\r\n                      >\r\n                        \r\n                      </span>\r\n                      <div className=\"env-history-label\">\r\n                        {this.getLabel(data?.ecoscore_material_score)}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"product-slide-recyclable\">\r\n                      {recyclable}\r\n                      <div className=\"material-icons icon-label-recyclable\">\r\n                        {this.getMaterialIcon(recyclable)}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </SwiperSlide>\r\n            </div>\r\n          );\r\n        }\r\n      );\r\n    }\r\n    return slides;\r\n\r\n    // return slides;\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.updateWindowDimensions();\r\n    window.addEventListener(\"resize\", this.updateWindowDimensions);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"resize\", this.updateWindowDimensions);\r\n  }\r\n\r\n  updateWindowDimensions = () => {\r\n    this.setState({ width: window.innerWidth });\r\n  };\r\n\r\n  displayCO2Repartition = (pourcentage, nbKg, type) => {\r\n    return (\r\n      <div className=\"product-co2-impact-container\">\r\n        <div className=\"product-co2-impact-header\">\r\n          <div className=\"product-co2-impact-logo\">\r\n            <div className=\"material-icons icon-label-co2-impact\">\r\n              {this.getMaterialIcon(type)}\r\n            </div>\r\n          </div>\r\n          <div className=\"product-co2-impact-title\">\r\n            <div className=\"product-co2-impact-title-text\">CO2 {type}</div>\r\n            <div className=\"product-co2-impact-title-label\">Rpartition</div>\r\n          </div>\r\n        </div>\r\n        <div className=\"product-co2-impact-content\">\r\n          <div className=\"product-transport-impact-content-details-text\">\r\n            {parseFloat(nbKg).toFixed(3)}kg C02 eq/kg produit\r\n          </div>\r\n          <div className=\"product-co2-impact-content-progress\">\r\n            <CircleProgress\r\n              percentage={parseFloat(pourcentage * 100).toFixed(1)}\r\n              strokeWidth={window.innerWidth * (1.0 / 60.0)}\r\n              width={window.innerWidth * (1.0 / 5.0)}\r\n              fontSize={window.innerWidth * (1.0 / 25.0)}\r\n              primaryColor={[\"#FF3333\", \"#33FF63\"]}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  displayRepartitionAllItems = () => {\r\n    var html_agriculture = <React.Fragment></React.Fragment>;\r\n    var html_transport = <React.Fragment></React.Fragment>;\r\n    var html_consommation = <React.Fragment></React.Fragment>;\r\n    var html_distribution = <React.Fragment></React.Fragment>;\r\n    var html_packaging = <React.Fragment></React.Fragment>;\r\n    var html_processing = <React.Fragment></React.Fragment>;\r\n    var html_total = <React.Fragment></React.Fragment>;\r\n\r\n    if (this.props.dataEcoScore?.agribalyse?.co2_agriculture) {\r\n      html_agriculture = this.displayCO2Repartition(\r\n        this.props.dataEcoScore?.agribalyse?.co2_agriculture /\r\n          this.props.dataEcoScore?.agribalyse?.co2_total,\r\n        this.props.dataEcoScore?.agribalyse?.co2_agriculture,\r\n        \"Agriculture\"\r\n      );\r\n    }\r\n    if (this.props.dataEcoScore?.agribalyse?.co2_transportation) {\r\n      html_transport = this.displayCO2Repartition(\r\n        this.props.dataEcoScore?.agribalyse?.co2_transportation /\r\n          this.props.dataEcoScore?.agribalyse?.co2_total,\r\n        this.props.dataEcoScore?.agribalyse?.co2_transportation,\r\n        \"Transport\"\r\n      );\r\n    }\r\n\r\n    if (this.props.dataEcoScore?.agribalyse?.co2_consumption) {\r\n      html_consommation = this.displayCO2Repartition(\r\n        this.props.dataEcoScore?.agribalyse?.co2_consumption /\r\n          this.props.dataEcoScore?.agribalyse?.co2_total,\r\n        this.props.dataEcoScore?.agribalyse?.co2_consumption,\r\n        \"Consommation\"\r\n      );\r\n    }\r\n\r\n    if (this.props.dataEcoScore?.agribalyse?.co2_distribution) {\r\n      html_distribution = this.displayCO2Repartition(\r\n        this.props.dataEcoScore?.agribalyse?.co2_distribution /\r\n          this.props.dataEcoScore?.agribalyse?.co2_total,\r\n        this.props.dataEcoScore?.agribalyse?.co2_distribution,\r\n        \"Distribution\"\r\n      );\r\n    }\r\n\r\n    if (this.props.dataEcoScore?.agribalyse?.co2_packaging) {\r\n      html_packaging = this.displayCO2Repartition(\r\n        this.props.dataEcoScore?.agribalyse?.co2_packaging /\r\n          this.props.dataEcoScore?.agribalyse?.co2_total,\r\n        this.props.dataEcoScore?.agribalyse?.co2_packaging,\r\n        \"Emballage\"\r\n      );\r\n    }\r\n\r\n    if (this.props.dataEcoScore?.agribalyse?.co2_processing) {\r\n      html_processing = this.displayCO2Repartition(\r\n        this.props.dataEcoScore?.agribalyse?.co2_processing /\r\n          this.props.dataEcoScore?.agribalyse?.co2_total,\r\n        this.props.dataEcoScore?.agribalyse?.co2_processing,\r\n        \"Transformation\"\r\n      );\r\n    }\r\n\r\n    if (this.props.dataEcoScore?.agribalyse?.co2_total) {\r\n      html_total = (\r\n        <span className=\"product-CO2-total\">\r\n          Impact total carbone :&nbsp;\r\n          {parseFloat(this.props.dataEcoScore?.agribalyse?.co2_total).toFixed(\r\n            3\r\n          )}\r\n          kg C02 eq/kg produit\r\n        </span>\r\n      );\r\n    }\r\n\r\n    let res = (\r\n      <React.Fragment>\r\n        {html_total}\r\n        {html_agriculture}\r\n        {html_transport}\r\n        {html_consommation}\r\n        {html_distribution}\r\n        {html_packaging}\r\n        {html_processing}\r\n      </React.Fragment>\r\n    );\r\n\r\n    return res;\r\n  };\r\n\r\n  handleShowTransport = () => {\r\n    this.setState({ showTransport: !this.state.showTransport });\r\n  };\r\n\r\n  displayTransportImpact = () => {\r\n    let res = <React.Fragment></React.Fragment>;\r\n\r\n    var agribalyse_CO2 = undefined;\r\n    var transportation_score = undefined;\r\n    var transport_final_indicator = undefined;\r\n    var n = 0;\r\n\r\n    if (this.props.dataEcoScore?.agribalyse?.co2_transportation) {\r\n      agribalyse_CO2 =\r\n        0.5 * this.props.dataEcoScore?.agribalyse?.co2_transportation;\r\n      n += 1;\r\n    }\r\n\r\n    if (\r\n      this.props.dataEcoScore?.adjustments?.origins_of_ingredients?.value_fr\r\n    ) {\r\n      transportation_score =\r\n        0.5 +\r\n        this.props.dataEcoScore?.adjustments?.origins_of_ingredients?.value_fr *\r\n          (-1.0 / 40.0);\r\n      n += 1;\r\n    }\r\n    if (n > 0) {\r\n      if (!agribalyse_CO2) {\r\n        agribalyse_CO2 = 0;\r\n      }\r\n      if (!transportation_score) {\r\n        transportation_score = 0;\r\n      }\r\n      transport_final_indicator = (agribalyse_CO2 + transportation_score) / n;\r\n      if (transport_final_indicator > 1) {\r\n        transport_final_indicator = 1;\r\n      }\r\n      if (transport_final_indicator < 0) {\r\n        transport_final_indicator = 0;\r\n      }\r\n    }\r\n\r\n    let co2_impact_html = <React.Fragment></React.Fragment>;\r\n    let transportation_score_html = <React.Fragment></React.Fragment>;\r\n\r\n    if (agribalyse_CO2 > 0) {\r\n      co2_impact_html = (\r\n        <div className=\"product-transport-impact-content-details-text\">\r\n          {parseFloat(\r\n            this.props.dataEcoScore?.agribalyse?.co2_transportation\r\n          ).toFixed(3)}\r\n          kg C02 eq/kg produit\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (transportation_score > 0) {\r\n      transportation_score_html = (\r\n        <div className=\"product-transport-impact-content-details-score\">\r\n          Score environnemental du transport vers la France :\r\n          <span\r\n            style={{\r\n              color: this.getColorImpact(transportation_score * 100),\r\n            }}\r\n          >\r\n            {Math.round(transportation_score * 100)}\r\n          </span>\r\n          /100\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (transport_final_indicator) {\r\n      transport_final_indicator = Math.round(transport_final_indicator * 100);\r\n      return (\r\n        <div\r\n          className=\"product-transport-impact-container\"\r\n          onClick={this.handleShowTransport}\r\n        >\r\n          <div className=\"product-transport-impact-header\">\r\n            <div className=\"product-transport-impact-logo\">\r\n              <div className=\"material-icons icon-label-transport-impact\">\r\n                {this.getMaterialIcon(\"Truck\")}\r\n              </div>\r\n            </div>\r\n            <div className=\"product-transport-impact-title\">\r\n              <div className=\"product-transport-impact-title-text\">\r\n                Impact du transport\r\n              </div>\r\n              <div className=\"product-transport-impact-title-label\">\r\n                {this.getLabelImpact(transport_final_indicator)}\r\n              </div>\r\n              <div className=\"material-icons icon-label-arrow\">\r\n                {this.getMaterialIcon(\"Arrow\")}\r\n              </div>\r\n            </div>\r\n            <div\r\n              className=\"product-transport-impact-color-label\"\r\n              style={{\r\n                color: this.getColorImpact(100 - transport_final_indicator),\r\n              }}\r\n            >\r\n              \r\n            </div>\r\n          </div>\r\n          <div\r\n            className={\r\n              this.state.showTransport\r\n                ? \"animation-appear\"\r\n                : \"animation-disappear\"\r\n            }\r\n          >\r\n            <div className=\"product-transport-impact-content\">\r\n              <div className=\"product-transport-impact-content-text\">\r\n                Score total :\r\n              </div>\r\n              <div className=\"product-transport-impact-content-progress\">\r\n                <CircleProgress\r\n                  percentage={100 - transport_final_indicator}\r\n                  strokeWidth={window.innerWidth * (1.0 / 50.0)}\r\n                  width={window.innerWidth * (1.0 / 4.0)}\r\n                  fontSize={0}\r\n                  primaryColor={[\"#33FF63\", \"#FF3333\"]}\r\n                />\r\n                <span className=\"impact-percentage-progressBar\">\r\n                  {100 - transport_final_indicator}/100\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <div className=\"product-transport-impact-content-details\">\r\n              {co2_impact_html}\r\n              {transportation_score_html}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return res;\r\n  };\r\n\r\n  diplayPackagingDetailImpact = () => {\r\n    let slides = <React.Fragment></React.Fragment>;\r\n    if (\r\n      this.props.dataEcoScore &&\r\n      this.props.dataEcoScore?.adjustments?.packaging?.packagings.length >= 1\r\n    ) {\r\n      slides = this.props.dataEcoScore?.adjustments?.packaging?.packagings.map(\r\n        (data) => {\r\n          var recyclable = \"\";\r\n          if (data.recycling) {\r\n            recyclable = data.recycling.split(\":\")[1];\r\n          }\r\n          if (recyclable && recyclable == \"recycle\") {\r\n            recyclable = \"Recyclable\";\r\n          } else if (recyclable && recyclable == \"discard\") {\r\n            recyclable = \"Non recyclable\";\r\n          } else {\r\n            recyclable = \"\";\r\n          }\r\n\r\n          return <React.Fragment>{this.getMaterialIcon(\"\")}</React.Fragment>;\r\n        }\r\n      );\r\n    }\r\n    return slides;\r\n  };\r\n\r\n  displayPackagingImpact = () => {\r\n    let res = <React.Fragment></React.Fragment>;\r\n\r\n    if (this.props.dataEcoScore?.adjustments?.packaging?.value) {\r\n      return (\r\n        <div className=\"product-packaging-impact-container\">\r\n          <div className=\"product-packaging-impact-header\">\r\n            <div className=\"product-packaging-impact-logo\">\r\n              <div className=\"material-icons icon-label-transport-impact\">\r\n                {this.getMaterialIcon(\"\")}\r\n              </div>\r\n            </div>\r\n            <div className=\"product-packaging-impact-title\">\r\n              <div className=\"product-packaging-impact-title-text\">\r\n                Impact du packaging\r\n              </div>\r\n              <div className=\"product-packaging-impact-title-label\">\r\n                {this.getLabelImpactPackaging(\r\n                  this.props.dataEcoScore?.adjustments?.packaging?.value\r\n                )}\r\n              </div>\r\n            </div>\r\n            <div\r\n              className=\"product-packaging-impact-color-label\"\r\n              style={{\r\n                color: this.getColorImpactPackaging(\r\n                  this.props.dataEcoScore?.adjustments?.packaging?.value\r\n                ),\r\n              }}\r\n            >\r\n              \r\n            </div>\r\n          </div>\r\n          <div className=\"product-transport-impact-content-details\">\r\n            {this.diplayPackagingDetailImpact()}\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  onSlideChange = (index) => {\r\n    this.setState({ currentIndex: index });\r\n  };\r\n\r\n  alternativesloop = () => {\r\n    const alternativesList = PRODUCTS.map((item) => {\r\n      console.log(this.props.EcoScore);\r\n      if (item.label <= this.props.ecoScore) {\r\n        return (\r\n          <SwiperSlide className=\"product-alternative\">\r\n            <div>\r\n              <img src={nutella} className=\"product-alternative-image\" alt=\"\" />\r\n            </div>\r\n            <div className=\"product-alternative-text\">\r\n              <label className=\"product-alternative-title\">{item.name}</label>\r\n              <label className=\"product-alternative-brand\">{item.brand}</label>\r\n              <RenderColor item={item} />\r\n            </div>\r\n          </SwiperSlide>\r\n        );\r\n      } else {\r\n        return <React.Fragment></React.Fragment>;\r\n      }\r\n    });\r\n    return alternativesList;\r\n  };\r\n\r\n  render = () => {\r\n    return (\r\n      <React.Fragment>\r\n        {this.displayTransportImpact()}\r\n        {this.displayRepartitionAllItems()}\r\n\r\n        {this.props.ecoScore ? (\r\n          <React.Fragment>\r\n            <span className=\"title-part-environnement\">Alternatives</span>\r\n            <Swiper\r\n              spaceBetween={10}\r\n              slidesPerView={1}\r\n              centeredSlides={true}\r\n              onSlideChange={(i) => this.onSlideChange(i.activeIndex)}\r\n              onSwiper={(swiper) => this.setState({ swiper: swiper })}\r\n            >\r\n              {this.alternativesloop()}\r\n            </Swiper>{\" \"}\r\n          </React.Fragment>\r\n        ) : (\r\n          <p>Pas encore de donnes pour ce produit</p>\r\n        )}\r\n        {/* <span className=\"title-part-environnement\">\r\n                    Impact de l'emballage\r\n                </span>\r\n                <Swiper\r\n                    spaceBetween={10}\r\n                    slidesPerView={1}\r\n                    centeredSlides={true}\r\n                    onSlideChange={(i) => this.onSlideChange(i.activeIndex)}\r\n                    onSwiper={(swiper) => this.setState({ swiper: swiper })}\r\n                >\r\n                    {this.displaySlides()}\r\n                </Swiper> */}\r\n      </React.Fragment>\r\n    );\r\n  };\r\n}\r\n\r\nexport default Environnement;\r\n","import React from \"react\";\r\nimport Navbar from \"../components/Navbar/Navbar\";\r\nimport Traceability from \"../components/Traceability/Traceability\";\r\nimport Environnement from \"../components/Environnement/Environnement\";\r\nimport Labels from \"../components/Labels/Labels\";\r\nimport \"./Product.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport jwt from \"jsonwebtoken\";\r\n\r\nclass Product extends React.Component {\r\n\tstate = {\r\n\t\tbarcode: this.props.match.params.barcode,\r\n\t\tbcProductId: this.props.match.params.bcProductId,\r\n\t\tproduct: undefined,\r\n\t\tproductImageUrl: undefined,\r\n\t\tproductName: undefined,\r\n\t\tgenericName: undefined,\r\n\t\tecoScore: undefined,\r\n\t\tdataEcoScore: undefined,\r\n\t\tvalue: 0,\r\n\t\tconnected: false,\r\n\t\tproductData: undefined,\r\n\t\tuserId: undefined,\r\n\t\tcart: 0,\r\n\t};\r\n\r\n\tisFlipping = false;\r\n\r\n\t//for scrolling\r\n\tgetBottomRef = (component) => {\r\n\t\tthis.bottomComponent = component;\r\n\t};\r\n\r\n\tcomponentDidMount = () => {\r\n\t\tthis.Verify();\r\n\t\tlet userId = localStorage.getItem(\"userId\");\r\n\t\tif (userId) {\r\n\t\t\tthis.setState({ userId: userId });\r\n\t\t\tthis.loadHistory(userId);\r\n\t\t}\r\n\t\tthis.loadFromOpenFoodFacts(this.props.match.params.barcode);\r\n\t\tif (this.props.match.params.bcProductId) {\r\n\t\t\tthis.loadProductInformations(\r\n\t\t\t\tthis.props.match.params.barcode,\r\n\t\t\t\tthis.props.match.params.bcProductId\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\thandleBarCodeUpdate = () => {\r\n\t\tif (this.state.barcode !== this.props.match.params.barcode) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tbarcode: this.props.match.params.barcode,\r\n\t\t\t\tbcProductId: this.props.match.params.bcProductId,\r\n\t\t\t});\r\n\t\t\tthis.loadFromOpenFoodFacts(this.props.match.params.barcode);\r\n\t\t\tif (this.props.match.params.bcProductId) {\r\n\t\t\t\tthis.loadProductInformations(\r\n\t\t\t\t\tthis.props.match.params.barcode,\r\n\t\t\t\t\tthis.props.match.params.bcProductId\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tVerify = () => {\r\n\t\tlet isExpired = true;\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\tif (token) {\r\n\t\t\tvar decodedToken = jwt.decode(token, { complete: true });\r\n\t\t\tvar dateNow = new Date();\r\n\t\t\tif (decodedToken.payload.exp >= dateNow.getTime() / 1000) {\r\n\t\t\t\tisExpired = false;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (isExpired === false) {\r\n\t\t\tthis.setState({ connected: true });\r\n\t\t}\r\n\t};\r\n\r\n\tloadProductInformations = (barcode, bcProductId) => {\r\n\t\tfetch(\r\n\t\t\t`https://api.lowympact.fr/api/v1/products/${barcode}?bcProductId=${bcProductId}`,\r\n\t\t\t// `http://localhost:8080/api/v1/products/${barcode}?bcProductId=${bcProductId}`,\r\n\t\t\t{\r\n\t\t\t\tmethod: \"get\",\r\n\t\t\t\tcredentials: \"include\",\r\n\t\t\t\theaders: new Headers({\r\n\t\t\t\t\t\"api-key\": \"99d8fb95-abdd-4885-bf6c-3a81d8874043\",\r\n\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t}),\r\n\t\t\t}\r\n\t\t)\r\n\t\t\t.then((response) => response.json())\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tproducts: res?.data?.traceability,\r\n\t\t\t\t\timpact: res?.data?.impact,\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t};\r\n\r\n\tloadFromOpenFoodFacts = (barcode) => {\r\n\t\tfetch(`https://world.openfoodfacts.org/api/v0/product/${barcode}.json/`)\r\n\t\t\t.then((response) => response.json())\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\tlet productImageUrl = res?.product?.image_url;\r\n\t\t\t\tlet productName = res?.product?.product_name;\r\n\t\t\t\tlet genericName = res?.product?.generic_name;\r\n\t\t\t\tlet ecoScore = res?.product?.ecoscore_grade;\r\n\r\n\t\t\t\tlet dataEcoScore = res?.product?.ecoscore_data;\r\n\r\n\t\t\t\tif (res?.product) {\r\n\t\t\t\t\tthis.setState({ productData: res.product });\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (productImageUrl) {\r\n\t\t\t\t\tthis.setState({ productImageUrl: productImageUrl });\r\n\t\t\t\t}\r\n\t\t\t\tif (productName) {\r\n\t\t\t\t\tthis.setState({ productName: productName });\r\n\t\t\t\t}\r\n\t\t\t\tif (genericName) {\r\n\t\t\t\t\tthis.setState({ genericName: genericName });\r\n\t\t\t\t}\r\n\t\t\t\tif (\r\n\t\t\t\t\tecoScore &&\r\n\t\t\t\t\t(ecoScore === \"a\" ||\r\n\t\t\t\t\t\tecoScore === \"b\" ||\r\n\t\t\t\t\t\tecoScore === \"c\" ||\r\n\t\t\t\t\t\tecoScore === \"d\" ||\r\n\t\t\t\t\t\tecoScore === \"e\")\r\n\t\t\t\t) {\r\n\t\t\t\t\tthis.setState({ ecoScore: ecoScore });\r\n\t\t\t\t}\r\n\t\t\t\tif (dataEcoScore) {\r\n\t\t\t\t\tthis.setState({ dataEcoScore: dataEcoScore });\r\n\t\t\t\t}\r\n\t\t\t\tif (res.status === 1) {\r\n\t\t\t\t\tthis.saveHistory();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tloadHistory = (userId) => {\r\n\t\tif (userId && this.state.barcode && this.state.bcProductId) {\r\n\t\t\tfetch(\r\n\t\t\t\t`https://api.lowympact.fr/api/v1/users/${userId}/cart/${this.state.barcode}?bcProductAddress=${this.state.bcProductId}`,\r\n\t\t\t\t// `http://localhost:8080/api/v1/users/${this.state.userId}/history`,\r\n\t\t\t\t{\r\n\t\t\t\t\tmethod: \"get\",\r\n\t\t\t\t\tcredentials: \"include\",\r\n\t\t\t\t\theaders: new Headers({\r\n\t\t\t\t\t\tAuthorization: localStorage.getItem(\"token\"),\r\n\t\t\t\t\t\t\"api-key\": \"99d8fb95-abdd-4885-bf6c-3a81d8874043\",\r\n\t\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\t}),\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t\t.then((response) => response.json())\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tif (res.success) {\r\n\t\t\t\t\t\tthis.setState({ cart: res.data?.quantity });\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tsaveHistory = async () => {\r\n\t\tawait delay(2000);\r\n\r\n\t\tif (!this.state.connected) {\r\n\t\t\tlet history = JSON.parse(localStorage.getItem(\"local_history\"));\r\n\t\t\tlet exist = null;\r\n\t\t\tif (history) {\r\n\t\t\t\texist = history?.find(\r\n\t\t\t\t\t(element) =>\r\n\t\t\t\t\t\telement.barcode === this.state.barcode &&\r\n\t\t\t\t\t\telement.bcProductId == this.state.bcProductId\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\thistory = [];\r\n\t\t\t}\r\n\r\n\t\t\tif (!exist || exist?.length === 0) {\r\n\t\t\t\thistory.push({\r\n\t\t\t\t\tbarcode: this.state.barcode,\r\n\t\t\t\t\tbcProductId: this.state.bcProductId,\r\n\t\t\t\t\tbrand: this.state.productData.brands,\r\n\t\t\t\t\timage: this.state.productImageUrl,\r\n\t\t\t\t\tlabel: this.state.ecoScore,\r\n\t\t\t\t\tname: this.state.productName,\r\n\t\t\t\t});\r\n\t\t\t\tlocalStorage.setItem(\"local_history\", JSON.stringify(history));\r\n\t\t\t}\r\n\t\t} else if (this.state.userId) {\r\n\t\t\tconsole.log(this.state.barcode, this.state.bcProductId);\r\n\t\t\tfetch(\r\n\t\t\t\t`https://api.lowympact.fr/api/v1/users/${this.state.userId}/history`,\r\n\t\t\t\t// `http://localhost:8080/api/v1/users/${this.state.userId}/history`,\r\n\t\t\t\t{\r\n\t\t\t\t\tmethod: \"put\",\r\n\t\t\t\t\tcredentials: \"include\",\r\n\t\t\t\t\theaders: new Headers({\r\n\t\t\t\t\t\tAuthorization: localStorage.getItem(\"token\"),\r\n\t\t\t\t\t\t\"api-key\": \"99d8fb95-abdd-4885-bf6c-3a81d8874043\",\r\n\t\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\t}),\r\n\t\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\t\tbarcode: this.state.barcode,\r\n\t\t\t\t\t\tbcProductAddress: this.state.bcProductId,\r\n\t\t\t\t\t}),\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t\t.then((response) => response.json())\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\taddToCart = () => {\r\n\t\tif (this.state.barcode && this.state.cart >= 0) {\r\n\t\t\tthis.flip();\r\n\t\t\tfetch(\r\n\t\t\t\t`https://api.lowympact.fr/api/v1/users/${this.state.userId}/cart`,\r\n\t\t\t\t// `http://localhost:8080/api/v1/users/${this.state.userId}/cart`,\r\n\t\t\t\t{\r\n\t\t\t\t\tmethod: \"put\",\r\n\t\t\t\t\tcredentials: \"include\",\r\n\t\t\t\t\theaders: new Headers({\r\n\t\t\t\t\t\tAuthorization: localStorage.getItem(\"token\"),\r\n\t\t\t\t\t\t\"api-key\": \"99d8fb95-abdd-4885-bf6c-3a81d8874043\",\r\n\t\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\t}),\r\n\t\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\t\tbarcode: this.state.barcode,\r\n\t\t\t\t\t\tbcProductAddress: this.state.bcProductId,\r\n\t\t\t\t\t\tquantityDelta: 1,\r\n\t\t\t\t\t\tecoscore: this.state.ecoScore,\r\n\t\t\t\t\t\tcarbonImpact: null,\r\n\t\t\t\t\t}),\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t\t.then((response) => response.json())\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tif (res.success) {\r\n\t\t\t\t\t\tthis.setState({ cart: this.state.cart + 1 });\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tremoveFromCart = () => {\r\n\t\tif (this.state.barcode && this.state.cart > 0) {\r\n\t\t\tthis.flip();\r\n\t\t\tfetch(\r\n\t\t\t\t`https://api.lowympact.fr/api/v1/users/${this.state.userId}/cart`,\r\n\t\t\t\t// `http://localhost:8080/api/v1/users/${this.state.userId}/cart`,\r\n\t\t\t\t{\r\n\t\t\t\t\tmethod: \"put\",\r\n\t\t\t\t\tcredentials: \"include\",\r\n\t\t\t\t\theaders: new Headers({\r\n\t\t\t\t\t\tAuthorization: localStorage.getItem(\"token\"),\r\n\t\t\t\t\t\t\"api-key\": \"99d8fb95-abdd-4885-bf6c-3a81d8874043\",\r\n\t\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\t}),\r\n\t\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\t\tbarcode: this.state.barcode,\r\n\t\t\t\t\t\tbcProductAddress: this.state.bcProductId,\r\n\t\t\t\t\t\tquantityDelta: -1,\r\n\t\t\t\t\t\tecoscore: this.state.ecoScore,\r\n\t\t\t\t\t\tcarbonImpact: null,\r\n\t\t\t\t\t}),\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t\t.then((response) => response.json())\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tif (res.success) {\r\n\t\t\t\t\t\tthis.setState({ cart: this.state.cart - 1 });\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tflip = async (event) => {\r\n\t\t// if (!this.isFlipping) {\r\n\t\t// \tthis.isFlipping = true;\r\n\t\t// \tawait delay(500);\r\n\t\tconsole.log(this.imageFlip.style.transform);\r\n\t\tif (this.imageFlip && !this.state.isFlipping) {\r\n\t\t\tif (this.imageFlip.style.transform === \"rotateY(360deg)\") {\r\n\t\t\t\tthis.imageFlip.style.transform = \"rotateY(0deg)\";\r\n\t\t\t} else {\r\n\t\t\t\tthis.imageFlip.style.transform = \"rotateY(360deg)\";\r\n\t\t\t}\r\n\t\t}\r\n\t\t// await delay(1000);\r\n\t\t// this.isFlipping = false;\r\n\t\t// }\r\n\t};\r\n\r\n\tdisplayImage = () => {\r\n\t\tthis.handleBarCodeUpdate();\r\n\r\n\t\tlet image = <React.Fragment />;\r\n\t\tlet productName = <React.Fragment />;\r\n\t\tlet genericName = <React.Fragment />;\r\n\t\tlet ecoScore = <React.Fragment />;\r\n\t\tif (this.state.productImageUrl) {\r\n\t\t\timage = (\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc={this.state.productImageUrl}\r\n\t\t\t\t\tclassName=\"product-image\"\r\n\t\t\t\t\talt=\"produit\"\r\n\t\t\t\t/>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tif (this.state.productName) {\r\n\t\t\tproductName = (\r\n\t\t\t\t<div className=\"product-name\">{this.state.productName}</div>\r\n\t\t\t);\r\n\t\t}\r\n\t\tif (this.state.ecoScore) {\r\n\t\t\tlet scoreClass = \"color_score_\" + this.state.ecoScore;\r\n\t\t\tecoScore = (\r\n\t\t\t\t<div className=\"product-ecoscore-image\">\r\n\t\t\t\t\t<span className={\"circle-score \" + scoreClass}> </span>\r\n\t\t\t\t\tEcoScore :\r\n\t\t\t\t\t<span className=\"uppercase \">\r\n\t\t\t\t\t\t{\" \" + this.state.ecoScore}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t} else if (this.state.genericName) {\r\n\t\t\tgenericName = (\r\n\t\t\t\t<div className=\"product-generic-name\">\r\n\t\t\t\t\t{this.state.genericName}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={\r\n\t\t\t\t\t\tthis.state.cart > 0\r\n\t\t\t\t\t\t\t? \"add-to-cart green\"\r\n\t\t\t\t\t\t\t: \"add-to-cart\"\r\n\t\t\t\t\t}\r\n\t\t\t\t\tonClick={this.addToCart}\r\n\t\t\t\t>\r\n\t\t\t\t\t<span className=\"cart-count\">\r\n\t\t\t\t\t\t{this.state.cart > 0 ? this.state.cart : \"\"}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span class=\"material-icons\">add_shopping_cart</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t{this.state.cart > 0 ? (\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"remove-from-cart\"\r\n\t\t\t\t\t\tonClick={this.removeFromCart}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span class=\"material-icons\">remove_shopping_cart</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<React.Fragment />\r\n\t\t\t\t)}\r\n\t\t\t\t{image}\r\n\t\t\t\t{productName}\r\n\t\t\t\t<div className=\"product-bottom-image-div\">\r\n\t\t\t\t\t{genericName}\r\n\t\t\t\t\t{ecoScore}\r\n\t\t\t\t</div>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t};\r\n\r\n\thandleChange = (event, newValue) => {\r\n\t\tthis.setState({ value: newValue });\r\n\t\tif (newValue === 1) {\r\n\t\t\tlet elem = document.getElementsByClassName(\"swiper-container\");\r\n\t\t\tif (elem[0]) {\r\n\t\t\t\telem[0].scrollIntoView({ behavior: \"smooth\" });\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tdisplayNavbar = () => {\r\n\t\tlet retour = <React.Fragment />;\r\n\t\tif (this.state.bcProductId) {\r\n\t\t\tretour = (\r\n\t\t\t\t<div className=\"product-navbar-container\">\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\tthis.state.value === 0\r\n\t\t\t\t\t\t\t\t? \"product-navbar-button selected\"\r\n\t\t\t\t\t\t\t\t: \"product-navbar-button\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tonClick={() => this.handleChange(\"\", 0)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tEnvironnement\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\tthis.state.value === 1\r\n\t\t\t\t\t\t\t\t? \"product-navbar-button selected\"\r\n\t\t\t\t\t\t\t\t: \"product-navbar-button\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tonClick={() => this.handleChange(\"\", 1)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tTraabilit\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\tthis.state.value === 0\r\n\t\t\t\t\t\t\t\t? \"navbar-under nav-left\"\r\n\t\t\t\t\t\t\t\t: \"navbar-under nav-right\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t></div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn retour;\r\n\t};\r\n\r\n\trender = () => {\r\n\t\t//tri des produits\r\n\t\tlet products = this.state.products?.sort((a, b) => {\r\n\t\t\tif (a.depth > b.depth) return -1;\r\n\t\t\telse return 1;\r\n\t\t});\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<div className=\"product-page-container\">\r\n\t\t\t\t\t<div className=\"product-header-container\">\r\n\t\t\t\t\t\t<div className=\"product-history-link\">\r\n\t\t\t\t\t\t\t<Link to=\"/history\"> {\"<\"} Historique</Link>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tclassName=\"product-bitmap-image\"\r\n\t\t\t\t\t\t\tsrc=\"/images/utils/bitmap.png\"\r\n\t\t\t\t\t\t\talt=\"\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"product-image-container\"\r\n\t\t\t\t\t\t// onClick={this.flip}\r\n\t\t\t\t\t\tref={(ref) => (this.imageFlip = ref)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{this.displayImage()}\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{this.displayNavbar()}\r\n\r\n\t\t\t\t\t{/* <AppBar position=\"static\">\r\n\t\t\t\t\t\t<Tabs\r\n\t\t\t\t\t\t\tvalue={this.state.value}\r\n\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\taria-label=\"simple tabs example\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Tab label=\"Traabilit\" />\r\n\t\t\t\t\t\t\t<Tab label=\"Environnement\" />\r\n\t\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t</AppBar>\r\n\t\t\t\t\t<TabPanel value={this.state.value} index={0}></TabPanel>\r\n\t\t\t\t\t<TabPanel value={this.state.value} index={1}>\r\n\t\t\t\t</TabPanel> */}\r\n\t\t\t\t\t{this.state.value === 0 ? (\r\n\t\t\t\t\t\t<Environnement\r\n\t\t\t\t\t\t\tdataEcoScore={this.state.dataEcoScore}\r\n\t\t\t\t\t\t\tecoScore={this.state.ecoScore}\r\n\t\t\t\t\t\t></Environnement>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div className=\"product-bottom-container\">\r\n\t\t\t\t\t\t\t<Traceability\r\n\t\t\t\t\t\t\t\tproducts={products}\r\n\t\t\t\t\t\t\t\tgetBottomRef={this.getBottomRef}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<Navbar\r\n\t\t\t\t\t\tbarcode={this.props.match.params.barcode}\r\n\t\t\t\t\t\tbcProductId={this.props.match.params.bcProductId}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t};\r\n}\r\n\r\nexport default Product;\r\n\r\nconst delay = (ms) => new Promise((res) => setTimeout(res, ms));\r\n","import React from \"react\";\r\nimport { Swiper, SwiperSlide } from \"swiper/react\";\r\n// Import Swiper styles\r\nimport \"swiper/swiper-bundle.css\";\r\nimport \"./Labels.css\";\r\n\r\nclass Labels extends React.Component {\r\n\tdisplaySpecies = () => {\r\n\t\tif (\r\n\t\t\tthis.props.dataEcoScore?.adjustments?.threatened_species?.length ===\r\n\t\t\t0\r\n\t\t) {\r\n\t\t\treturn <div></div>;\r\n\t\t} else {\r\n\t\t\tif (\r\n\t\t\t\tthis.props.dataEcoScore?.adjustments?.threatened_species\r\n\t\t\t\t\t?.value < 0\r\n\t\t\t) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div className=\"labels-container-bad\">\r\n\t\t\t\t\t\t\t<span class=\"material-icons\">warning_amber</span>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.props.dataEcoScore?.adjustments\r\n\t\t\t\t\t\t\t\t\t?.threatened_species?.ingredient\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div className=\"labels-container-good\">\r\n\t\t\t\t\t\t\t<span class=\"material-icons\">task_alt</span>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.props.dataEcoScore?.adjustments\r\n\t\t\t\t\t\t\t\t\t?.threatened_species?.ingredient\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tdisplaySpecies = () => {\r\n\t\tif (\r\n\t\t\t!this.props.dataEcoScore?.adjustments?.threatened_species\r\n\t\t\t\t?.ingredient\r\n\t\t) {\r\n\t\t\treturn <div></div>;\r\n\t\t} else {\r\n\t\t\tif (\r\n\t\t\t\tthis.props.dataEcoScore?.adjustments?.threatened_species\r\n\t\t\t\t\t?.value < 0\r\n\t\t\t) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div className=\"labels-container-bad\">\r\n\t\t\t\t\t\t\t<span class=\"material-icons\">warning_amber</span>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.props.dataEcoScore?.adjustments\r\n\t\t\t\t\t\t\t\t\t?.threatened_species?.ingredient\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div className=\"labels-container-good\">\r\n\t\t\t\t\t\t\t<span class=\"material-icons\">task_alt</span>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.props.dataEcoScore?.adjustments\r\n\t\t\t\t\t\t\t\t\t?.threatened_species?.ingredient\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tdisplayProduction = () => {\r\n\t\tif (!this.props.dataEcoScore?.adjustments?.production_system?.label) {\r\n\t\t\treturn <div></div>;\r\n\t\t} else {\r\n\t\t\tif (\r\n\t\t\t\tthis.props.dataEcoScore?.adjustments?.production_system?.value <\r\n\t\t\t\t0\r\n\t\t\t) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div className=\"labels-container-bad\">\r\n\t\t\t\t\t\t\t<span class=\"material-icons\">warning_amber</span>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.props.dataEcoScore?.adjustments\r\n\t\t\t\t\t\t\t\t\t?.production_system?.label\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div className=\"labels-container-good\">\r\n\t\t\t\t\t\t\t<span class=\"material-icons\">task_alt</span>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.props.dataEcoScore?.adjustments\r\n\t\t\t\t\t\t\t\t\t?.production_system?.label\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\trender() {\r\n\t\tif (\r\n\t\t\tthis.props.dataEcoScore?.adjustments?.threatened_species?.length !=\r\n\t\t\t\t0 &&\r\n\t\t\tthis.props.dataEcoScore?.adjustments?.production_system?.label\r\n\t\t) {\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<h1>Labels</h1>\r\n\r\n\t\t\t\t\t<div className=\"labels-container\">\r\n\t\t\t\t\t\t{this.displaySpecies()}\r\n\t\t\t\t\t\t{this.displayProduction()}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn <React.Fragment />;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default Labels;\r\n","import React from \"react\";\r\nimport Navbar from \"../components/Navbar/Navbar\";\r\nimport Header from \"../components/Header/Header\";\r\nimport \"./Profil.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport jwt from \"jsonwebtoken\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nclass Profil extends React.Component {\r\n    state = {\r\n        connected: false,\r\n    };\r\n\r\n    disconnect = () => {\r\n        localStorage.clear();\r\n        this.props.history.push(\"/login\");\r\n    };\r\n\r\n    componentDidMount = () => {\r\n        this.Verify();\r\n    };\r\n\r\n    Verify = () => {\r\n        let isExpired = true;\r\n        const token = localStorage.getItem(\"token\");\r\n        if (token) {\r\n            var decodedToken = jwt.decode(token, { complete: true });\r\n            var dateNow = new Date();\r\n            if (decodedToken.payload.exp >= dateNow.getTime() / 1000) {\r\n                isExpired = false;\r\n            }\r\n        }\r\n        if (isExpired === false) {\r\n            this.setState({ connected: true }); // redirection vers la page login\r\n        }\r\n    };\r\n\r\n    displayConnectedProfil = () => {\r\n        return (\r\n            <React.Fragment>\r\n                <h2 className=\"profil-title\">Bienvenue sur ton profil!</h2>\r\n                <Link to=\"/stats\" className=\"profil-button\">\r\n                    Statistiques\r\n                </Link>\r\n                <Link to=\"/configuration\" className=\"profil-button\">\r\n                    Configuration\r\n                </Link>\r\n                <div onClick={this.disconnect} className=\"profil-button\">\r\n                    Dconnecter\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    };\r\n\r\n    displayUnconnectedProfil = () => {\r\n        return (\r\n            <React.Fragment>\r\n                <h2 className=\"profil-title\">Non connect</h2>\r\n                <p>Connecte toi pour que ton historique soit sauvegard !</p>\r\n                <Link to=\"/login\" className=\"profil-button\">\r\n                    Me Connecter\r\n                </Link>\r\n            </React.Fragment>\r\n        );\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Link to=\"/\">\r\n                    <Header />\r\n                </Link>\r\n                <motion.div\r\n                    initial={{ opacity: 0 }}\r\n                    animate={{ opacity: 1 }}\r\n                    exit={{ opacity: 0 }}\r\n                    className=\"profil-screen\"\r\n                >\r\n                    <div className=\"profil-picture\">\r\n                        <div class=\"material-icons\">person</div>\r\n                    </div>\r\n                    {this.state.connected\r\n                        ? this.displayConnectedProfil()\r\n                        : this.displayUnconnectedProfil()}\r\n                </motion.div>\r\n                <Navbar />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Profil;\r\n","import React from \"react\";\r\n\r\nfunction ButtonSignup() {\r\n  return (\r\n  <div>\r\n    Crer mon compte\r\n  </div>\r\n  );\r\n}\r\n\r\nexport default ButtonSignup;","import React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport ButtonSignup from \"../components/Button/ButtonSignup\";\r\nimport fruits from \"../assets/images/fruits-vegetables-basket-by-oblik-studio.svg\";\r\nimport Header from \"../components/Header/Header\";\r\nimport \"./Login.css\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport const validEmail = new RegExp(\r\n\t\"^[a-zA-Z0-9._:$!%-]+@[a-zA-Z0-9.-]+.[a-zA-Z]$\"\r\n);\r\n\r\nclass Signup extends Component {\r\n\tstate = {\r\n\t\tuserName: \"\",\r\n\t\temail: \"\",\r\n\t\tpassword: \"\",\r\n\t\tconfirmPassword: \"\",\r\n\t\terrors: [],\r\n\t\tredirect: false,\r\n\t\tsubmit: false,\r\n\t};\r\n\r\n\tvalidate() {\r\n\t\tvar errors = [];\r\n\t\tif (this.state.userName.length === 0) {\r\n\t\t\terrors.push(\"Saissez votre nom\");\r\n\t\t}\r\n\t\tif (this.state.email.length === 0) {\r\n\t\t\terrors.push(\"Saissez votre adresse e-mail\");\r\n\t\t}\r\n\t\tif (validEmail.test(this.state.email) === false) {\r\n\t\t\terrors.push(\"Saissez une adresse e-mail valide\");\r\n\t\t}\r\n\t\tif (this.state.password.length < 6) {\r\n\t\t\terrors.push(\"Entre un mot de passe. 6 carcteres minimum requis\");\r\n\t\t}\r\n\t\tif (this.state.password !== this.state.confirmPassword) {\r\n\t\t\terrors.push(\"Les mots de passe ne correspondent pas\");\r\n\t\t}\r\n\t\tthis.setState({ errors: errors });\r\n\t\treturn errors;\r\n\t}\r\n\r\n\tsignUser = async () => {\r\n\t\tlet errors = await fetch(`https://api.lowympact.fr/api/v1/users/`, {\r\n\t\t\tmethod: \"post\",\r\n\t\t\tcredentials: \"include\",\r\n\t\t\theaders: new Headers({\r\n\t\t\t\t\"api-key\": \"99d8fb95-abdd-4885-bf6c-3a81d8874043\",\r\n\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t}),\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tusername: this.state.userName,\r\n\t\t\t\temail: this.state.email,\r\n\t\t\t\tpassword: this.state.password,\r\n\t\t\t}),\r\n\t\t})\r\n\t\t\t.then((response) => response.json())\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\tlet errors = [];\r\n\r\n\t\t\t\tif (!res.success) {\r\n\t\t\t\t\terrors.push(\r\n\t\t\t\t\t\t\"Il y a dj un compte avec ce mail ou une erreur rseau.\"\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlocalStorage.setItem(\"token\", res.token);\r\n\t\t\t\t\tlocalStorage.setItem(\"userId\", res._id);\r\n\t\t\t\t\tthis.props.history.push(\"/history\");\r\n\t\t\t\t}\r\n\t\t\t\tthis.setState({ errors: errors });\r\n\t\t\t\treturn errors;\r\n\t\t\t});\r\n\t\treturn errors;\r\n\t};\r\n\r\n\thandleSubmit = async (e) => {\r\n\t\te.preventDefault();\r\n\t\tlet errors = this.validate();\r\n\t\t//console.log(\"errors: \" + errors);\r\n\t\tif (errors.length === 0) {\r\n\t\t\terrors = await this.signUser();\r\n\t\t}\r\n\t\tif (errors.length === 0) {\r\n\t\t\tthis.setState({ redirect: true });\r\n\t\t}\r\n\t};\r\n\r\n\tdisplayErrors = () => {\r\n\t\tlet errors = <React.Fragment></React.Fragment>;\r\n\t\terrors = this.state.errors.map((error) => {\r\n\t\t\treturn <p>{error}</p>;\r\n\t\t});\r\n\t\treturn errors;\r\n\t};\r\n\r\n\trender() {\r\n\t\tif (this.state.redirect) {\r\n\t\t\treturn <Redirect to=\"/history\" />;\r\n\t\t}\r\n\t\t//console.log(\"render\");\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Link to=\"/login\">\r\n\t\t\t\t\t<Header />\r\n\t\t\t\t</Link>\r\n\t\t\t\t<div className=\"logo-fruits\">\r\n\t\t\t\t\t<img src={fruits} className=\"logo\" alt=\"Fruits\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<Link className=\"back-button\" to=\"/login\">\r\n\t\t\t\t\t{\"< retour\"}\r\n\t\t\t\t</Link>\r\n\t\t\t\t<div className=\"signup-container\">\r\n\t\t\t\t\t<form className=\"forms\">\r\n\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\tnom\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclassName=\"input-forms\"\r\n\t\t\t\t\t\t\t\tvalue={this.state.userName}\r\n\t\t\t\t\t\t\t\tonChange={(evt) =>\r\n\t\t\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\t\t\tuserName: evt.target.value,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\temail\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclassName=\"input-forms\"\r\n\t\t\t\t\t\t\t\tvalue={this.state.email}\r\n\t\t\t\t\t\t\t\tonChange={(evt) =>\r\n\t\t\t\t\t\t\t\t\tthis.setState({ email: evt.target.value })\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\tmot de passe\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclassName=\"input-forms\"\r\n\t\t\t\t\t\t\t\tvalue={this.state.password}\r\n\t\t\t\t\t\t\t\tonChange={(evt) =>\r\n\t\t\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\t\t\tpassword: evt.target.value,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\tconfirmer mot de passe\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclassName=\"input-forms\"\r\n\t\t\t\t\t\t\t\tvalue={this.state.passwordConfirm}\r\n\t\t\t\t\t\t\t\tonChange={(evt) =>\r\n\t\t\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\t\t\tconfirmPassword: evt.target.value,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t\t<label className=\"errors-signup\">\r\n\t\t\t\t\t\t{this.displayErrors()}\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<div className=\"button-signup\" onClick={this.handleSubmit}>\r\n\t\t\t\t\t\t<ButtonSignup />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\nexport default Signup;\r\n","import React from \"react\";\r\n\r\nfunction ButtonSignin() {\r\n  return (\r\n  <div>\r\n    Me connecter\r\n  </div>\r\n  );\r\n}\r\n\r\nexport default ButtonSignin;","import React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport ButtonSignin from \"../components/Button/ButtonSignin\";\r\nimport fruits from \"../assets/images/fruits-vegetables-basket-by-oblik-studio.svg\";\r\nimport Header from \"../components/Header/Header\";\r\nimport blob from \"../assets/images/bitmap.png\";\r\nimport \"./Login.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport jwt from \"jsonwebtoken\";\r\n\r\nfunction validate(email, password) {\r\n\tconst errors = [];\r\n\r\n\tif (email.length === 0) {\r\n\t\terrors.push(<p>Saissez votre adresse e-mail</p>);\r\n\t}\r\n\tif (password.length === 0) {\r\n\t\terrors.push(<p>Saissez votre mot de passe</p>);\r\n\t}\r\n\treturn errors;\r\n}\r\n\r\nclass Signin extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\temail: \"\",\r\n\t\t\tpassword: \"\",\r\n\t\t\terrors: [],\r\n\t\t\tredirect: false,\r\n\t\t\tloginSuccessful: null,\r\n\t\t};\r\n\t}\r\n\r\n\thandleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tconst { email, password } = this.state;\r\n\t\tconst errors = validate(email, password);\r\n\t\t//console.log(email, password, errors);\r\n\t\tthis.setState({ errors });\r\n\t\tif (errors.length === 0) {\r\n\t\t\tthis.Connect();\r\n\t\t}\r\n\t};\r\n\r\n\tcomponentDidMount = () => {\r\n\t\tthis.Verify();\r\n\t};\r\n\r\n\tVerify = () => {\r\n\t\tlet isExpired = true;\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\tif (token) {\r\n\t\t\tvar decodedToken = jwt.decode(token, { complete: true });\r\n\t\t\tvar dateNow = new Date();\r\n\t\t\tif (decodedToken.payload.exp >= dateNow.getTime() / 1000) {\r\n\t\t\t\tisExpired = false;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (isExpired === false) {\r\n\t\t\tthis.setState({ redirect: true }); // redirection vers la page login\r\n\t\t}\r\n\t};\r\n\r\n\tConnect = () => {\r\n\t\tfetch(`https://api.lowympact.fr/api/v1/users/login`, {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\"api-key\": \"99d8fb95-abdd-4885-bf6c-3a81d8874043\",\r\n\r\n\t\t\t\t//'x-access-token': localStorage.getItem('token'),\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\temail: this.state.email,\r\n\t\t\t\tpassword: this.state.password,\r\n\t\t\t}),\r\n\t\t})\r\n\t\t\t.then((response) => response.json())\r\n\t\t\t.then((data) => {\r\n\t\t\t\t//console.log(data);\r\n\t\t\t\tif (data.error === \"No user found\") {\r\n\t\t\t\t\tthis.setState({ loginSuccessful: false });\r\n\t\t\t\t\tlet err = this.state.errors;\r\n\t\t\t\t\terr.push(<p>Utilisateur Inconnu</p>);\r\n\t\t\t\t\tthis.setState({ errors: err });\r\n\t\t\t\t} else if (\r\n\t\t\t\t\tdata.error === \"Incorrect password\" ||\r\n\t\t\t\t\t!data.success\r\n\t\t\t\t) {\r\n\t\t\t\t\tthis.setState({ loginSuccessful: false });\r\n\t\t\t\t\tlet err = this.state.errors;\r\n\t\t\t\t\terr.push(<p>Mot de passe Incorrect</p>);\r\n\t\t\t\t\tthis.setState({ errors: err });\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// console.log(data);\r\n\t\t\t\t\tlocalStorage.setItem(\"token\", data.token);\r\n\t\t\t\t\tlocalStorage.setItem(\"userId\", data._id);\r\n\t\t\t\t\tthis.setState({ loginSuccessful: true, redirect: true });\r\n\t\t\t\t\t//this.props.history.goBack();\t// a ajouter pour tre redirig vers la page initialement\r\n\t\t\t\t\t// demande. On doit cependant rediriger si la page demande\r\n\t\t\t\t\t// tait la page de login\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\trender() {\r\n\t\tif (this.state.redirect) {\r\n\t\t\treturn <Redirect to=\"/history\" />;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Link to=\"/login\">\r\n\t\t\t\t\t<Header />\r\n\t\t\t\t</Link>\r\n\t\t\t\t<div className=\"logo-fruits\">\r\n\t\t\t\t\t<img src={fruits} className=\"logo\" alt=\"Fruits\" />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Link className=\"back-button\" to=\"/login\">\r\n\t\t\t\t\t{\"< retour\"}\r\n\t\t\t\t</Link>\r\n\t\t\t\t<div className=\"signin-container\">\r\n\t\t\t\t\t<form className=\"forms\">\r\n\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\temail\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclassName=\"input-forms\"\r\n\t\t\t\t\t\t\t\tvalue={this.state.email}\r\n\t\t\t\t\t\t\t\tonChange={(evt) =>\r\n\t\t\t\t\t\t\t\t\tthis.setState({ email: evt.target.value })\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\tmot de passe\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclassName=\"input-forms\"\r\n\t\t\t\t\t\t\t\tvalue={this.state.password}\r\n\t\t\t\t\t\t\t\tonChange={(evt) =>\r\n\t\t\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\t\t\tpassword: evt.target.value,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t\t<label className=\"errors-signin\">{this.state.errors}</label>\r\n\t\t\t\t\t<div className=\"button-signin\" onClick={this.handleSubmit}>\r\n\t\t\t\t\t\t<ButtonSignin />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\nexport default Signin;\r\n","import React from \"react\";\r\n\r\nfunction ButtonChangePassword() {\r\n  return (\r\n  <div>\r\n    Changer mot de passe\r\n  </div>\r\n  );\r\n}\r\n\r\nexport default ButtonChangePassword;","export const USERS =\r\n    {\r\n        id: 0,\r\n        email: \"bububu@bababa.com\",\r\n        password: \"123456\"\r\n    };","import React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport ButtonChangePassword from \"../components/Button/ButtonChangePassword\";\r\nimport fruits from \"../assets/images/fruits-vegetables-basket-by-oblik-studio.svg\";\r\nimport Header from \"../components/Header/Header\";\r\nimport Navbar from \"../components/Navbar/Navbar\";\r\nimport \"./ProfileConfiguration.css\";\r\nimport { USERS } from \"../assets/users/users\";\r\nimport jwt from \"jsonwebtoken\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction validate(newPassword, confirmPassword) {\r\n\tconst errors = [];\r\n\tif (newPassword.length < 6) {\r\n\t\terrors.push(<p>Entre un mot de passe. 6 carcteres minimum requis</p>);\r\n\t}\r\n\tif (newPassword !== confirmPassword) {\r\n\t\terrors.push(<p>Les mots de passe ne correspondent pas</p>);\r\n\t}\r\n\treturn errors;\r\n}\r\n\r\nclass ProfileConfiguration extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tuser: USERS,\r\n\t\t\tcurrentPassword: \"\",\r\n\t\t\tnewPassword: \"\",\r\n\t\t\tconfirmPassword: \"\",\r\n\t\t\terrors: [],\r\n\t\t\tredirect: false,\r\n\t\t};\r\n\t}\r\n\r\n\thandleChange = (e) => {\r\n\t\te.preventDefault();\r\n\t\tconst { currentPassword, newPassword, confirmPassword } = this.state;\r\n\t\tconst errors = validate(newPassword, confirmPassword);\r\n\t\tconsole.log(\r\n\t\t\tthis.state.user.email,\r\n\t\t\tcurrentPassword,\r\n\t\t\tnewPassword,\r\n\t\t\tconfirmPassword,\r\n\t\t\terrors\r\n\t\t);\r\n\t\tthis.setState({ errors });\r\n\t\tif (errors.length === 0) {\r\n\t\t\tthis.changeUserInfo(\r\n\t\t\t\tthis.state.user._id,\r\n\t\t\t\tcurrentPassword,\r\n\t\t\t\tnewPassword\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\tchangeUserInfo = (userId, currentPassword, newPassword) => {\r\n\t\tconsole.log(\"hey\");\r\n\t\tfetch(\r\n\t\t\t`https://api.lowympact.fr/api/v1/users/${userId}`,\r\n\t\t\t// `http://localhost:8080/api/v1/users/login`,\r\n\t\t\t{\r\n\t\t\t\tmethod: \"PUT\",\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\t\"api-key\": \"99d8fb95-abdd-4885-bf6c-3a81d8874043\",\r\n\t\t\t\t\tauthorization: localStorage.getItem(\"token\"),\r\n\t\t\t\t},\r\n\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\tcurrentPassword: currentPassword,\r\n\t\t\t\t\tnewPassword: newPassword,\r\n\t\t\t\t}),\r\n\t\t\t}\r\n\t\t)\r\n\t\t\t.then((response) => response.json())\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\tif (res.success === false) {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\terrors: [...this.state.errors, res.error],\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({ redirect: true });\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tVerify = () => {\r\n\t\tlet isExpired = true;\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\tif (token) {\r\n\t\t\tvar decodedToken = jwt.decode(token, { complete: true });\r\n\t\t\tvar dateNow = new Date();\r\n\t\t\tif (decodedToken.payload.exp >= dateNow.getTime() / 1000) {\r\n\t\t\t\tisExpired = false;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (isExpired === true) {\r\n\t\t\tthis.setState({ redirect: true }); // redirection vers la page login\r\n\t\t}\r\n\t};\r\n\r\n\tcomponentDidMount = () => {\r\n\t\tthis.Verify();\r\n\t\tlet userId = localStorage.getItem(\"userId\");\r\n\t\tif (userId) {\r\n\t\t\tthis.loadUserInfo(userId);\r\n\t\t}\r\n\t};\r\n\r\n\tloadUserInfo = (userId) => {\r\n\t\tfetch(\r\n\t\t\t`https://api.lowympact.fr/api/v1/users/${userId}`,\r\n\t\t\t// `http://localhost:8080/api/v1/users/login`,\r\n\t\t\t{\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\t\"api-key\": \"99d8fb95-abdd-4885-bf6c-3a81d8874043\",\r\n\t\t\t\t\tauthorization: localStorage.getItem(\"token\"),\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t)\r\n\t\t\t.then((response) => response.json())\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconsole.log(res);\r\n\r\n\t\t\t\tthis.setState({ user: res.data });\r\n\t\t\t});\r\n\t};\r\n\r\n\trender() {\r\n\t\tif (this.state.redirect) {\r\n\t\t\treturn <Redirect to=\"/profil\" />;\r\n\t\t}\r\n\t\tconsole.log(this.state.redirect);\r\n\t\treturn (\r\n\t\t\t<div className=\"screen\">\r\n\t\t\t\t<Link to=\"/\">\r\n\t\t\t\t\t<Header />\r\n\t\t\t\t</Link>\r\n\t\t\t\t<Navbar />\r\n\t\t\t\t<div className=\"logo-fruits\">\r\n\t\t\t\t\t<img src={fruits} className=\"logo\" alt=\"Fruits\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<Link className=\"back-button\" to=\"/profil\">\r\n\t\t\t\t\t{\"< retour\"}\r\n\t\t\t\t</Link>\r\n\t\t\t\t<div className=\"configuration-screen-title\">\r\n\t\t\t\t\tConfigurations:\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"errors-change-password\">\r\n\t\t\t\t\t{this.state.errors}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"configuration-container\">\r\n\t\t\t\t\t<div className=\"configuration-email-block\">\r\n\t\t\t\t\t\t<div>email</div>\r\n\t\t\t\t\t\t<div>{this.state.user.email}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<form className=\"configuration-form\">\r\n\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t{/* Mot de passe actuel */}\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tplaceholder=\"mot de passe actuel\"\r\n\t\t\t\t\t\t\t\tclassName=\"input-forms\"\r\n\t\t\t\t\t\t\t\tvalue={this.state.currentPassword}\r\n\t\t\t\t\t\t\t\tonChange={(evt) =>\r\n\t\t\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\t\t\tcurrentPassword: evt.target.value,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t{/* Nouveau mot de passe */}\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tvalue={this.state.newPassword}\r\n\t\t\t\t\t\t\t\tclassName=\"input-forms\"\r\n\t\t\t\t\t\t\t\tonChange={(evt) =>\r\n\t\t\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\t\t\tnewPassword: evt.target.value,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"nouveau mot de passe\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t{/* Confirmation de mot de passe */}\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tplaceholder=\"confirmation de mdp\"\r\n\t\t\t\t\t\t\t\tclassName=\"input-forms\"\r\n\t\t\t\t\t\t\t\tvalue={this.state.confirmPassword}\r\n\t\t\t\t\t\t\t\tonChange={(evt) =>\r\n\t\t\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\t\t\tconfirmPassword: evt.target.value,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\tclassName=\"button-change-password\"\r\n\t\t\t\t\t\t\tonClick={this.handleChange}\r\n\t\t\t\t\t\t\tto=\"\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ButtonChangePassword />\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\nexport default ProfileConfiguration;\r\n","import React from \"react\";\r\nimport \"./DoughnutChartEcoScore.css\";\r\nimport { Swiper, SwiperSlide } from \"swiper/react\";\r\n// Import Swiper styles\r\nimport \"swiper/swiper-bundle.css\";\r\n\r\n//Import Pie Chart\r\nimport { PieChart } from \"react-minimal-pie-chart\";\r\n\r\nimport fruits from \"../../assets/images/fruits-vegetables-basket-by-oblik-studio.svg\";\r\nimport { motion } from \"framer-motion\";\r\n\r\n//Mock Data\r\nconst dataMock = [\r\n\t{ title: \"EcoScore A\", value: 20, color: \"#1e8f4f\" },\r\n\t{ title: \"EcoScore B\", value: 7, color: \"#5fad0c\" },\r\n\t{ title: \"EcoScore C\", value: 12, color: \"#ecb10f\" },\r\n\t{ title: \"EcoScore D\", value: 36, color: \"#ff6f1e\" },\r\n\t{ title: \"EcoScore E\", value: 8, color: \"#df1e1f\" },\r\n\t{ title: \"EcoScore Inconnu\", value: 3, color: \"#000000\" },\r\n];\r\n\r\nclass DoughnutChartEcoScore extends React.Component {\r\n\tstate = {\r\n\t\tswiper: undefined,\r\n\t\tselectedSegment: undefined,\r\n\t};\r\n\r\n\tdisplayChart = () => {\r\n\t\tlet chart = <React.Fragment></React.Fragment>;\r\n\t\tif (this.props.ecoScoreData && this.props.scannedProduct > 0) {\r\n\t\t\tchart = (\r\n\t\t\t\t<PieChart\r\n\t\t\t\t\tdata={dataMock}\r\n\t\t\t\t\tlineWidth={30}\r\n\t\t\t\t\tpaddingAngle={1}\r\n\t\t\t\t\tradius={PieChart.defaultProps.radius - 3}\r\n\t\t\t\t\tanimate\r\n\t\t\t\t\tanimationDuration={700}\r\n\t\t\t\t\tlabel={({ dataEntry }) =>\r\n\t\t\t\t\t\t`${Math.round(dataEntry.percentage)}%`\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlabelStyle={(index) =>\r\n\t\t\t\t\t\tindex === this.state.selectedSegment\r\n\t\t\t\t\t\t\t? {\r\n\t\t\t\t\t\t\t\t\tfontSize: \"6px\",\r\n\t\t\t\t\t\t\t\t\tfontFamily: \"comfortaa\",\r\n\t\t\t\t\t\t\t\t\tfill: dataMock[index].color,\r\n\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t: {\r\n\t\t\t\t\t\t\t\t\tfontSize: \"0px\",\r\n\t\t\t\t\t\t\t\t\tfontFamily: \"comfortaa\",\r\n\t\t\t\t\t\t\t\t\tfill: dataMock[index].color,\r\n\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlabelPosition={60}\r\n\t\t\t\t\tsegmentsStyle={{\r\n\t\t\t\t\t\ttransition: \"stroke .3s ease-out\",\r\n\t\t\t\t\t\tcursor: \"pointer\",\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tsegmentsShift={(index) =>\r\n\t\t\t\t\t\tindex === this.state.selectedSegment ? 3 : 0\r\n\t\t\t\t\t}\r\n\t\t\t\t\tonClick={(event, index) => {\r\n\t\t\t\t\t\tif (index === this.state.selectedSegment) {\r\n\t\t\t\t\t\t\tthis.setState({ selectedSegment: undefined });\r\n\t\t\t\t\t\t\tthis.state.swiper.slideTo(0, 500);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.setState({ selectedSegment: index });\r\n\t\t\t\t\t\t\tthis.state.swiper.slideTo(index + 1, 500);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tchart = (\r\n\t\t\t\t<motion.div\r\n\t\t\t\t\tclassName=\"stats-no-product\"\r\n\t\t\t\t\tinitial={{ opacity: 0 }}\r\n\t\t\t\t\tanimate={{ opacity: 1 }}\r\n\t\t\t\t\texit={{ opacity: 0 }}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<img src={fruits} className=\"logo\" alt=\"Fruits\" />\r\n\t\t\t\t\t\t<p className=\"logo-text\">\r\n\t\t\t\t\t\t\tCommence  scanner des produits !\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</motion.div>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn chart;\r\n\t};\r\n\r\n\tonSlideChange = (index) => {\r\n\t\tif (index === 0) {\r\n\t\t\tthis.setState({ selectedSegment: undefined });\r\n\t\t} else {\r\n\t\t\tthis.setState({ selectedSegment: index - 1 });\r\n\t\t}\r\n\t};\r\n\r\n\tdisplaySlides = () => {\r\n\t\tlet slides = <React.Fragment></React.Fragment>;\r\n\t\tif (this.props.ecoScoreData && this.props.scannedProduct > 0) {\r\n\t\t\tslides = (\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t<SwiperSlide>\r\n\t\t\t\t\t\t<div className=\"stats-slider\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"stats-ecoscore-full\"\r\n\t\t\t\t\t\t\t\tsrc=\"/images/utils/ecoScoreFull.png\"\r\n\t\t\t\t\t\t\t\talt=\"\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</SwiperSlide>\r\n\t\t\t\t\t<SwiperSlide>\r\n\t\t\t\t\t\t<div className=\"stats-slider\">\r\n\t\t\t\t\t\t\t<span className=\"stats-slider-text\">\r\n\t\t\t\t\t\t\t\t{\">\"} EcoScore A : {this.props.ecoScoreData.a}{\" \"}\r\n\t\t\t\t\t\t\t\t{this.props.ecoScoreData.a > 1\r\n\t\t\t\t\t\t\t\t\t? \" produits\"\r\n\t\t\t\t\t\t\t\t\t: \" produit\"}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"stats-ecoscore-image\"\r\n\t\t\t\t\t\t\t\tsrc=\"/images/utils/ecoScoreA.png\"\r\n\t\t\t\t\t\t\t\talt=\"\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</SwiperSlide>\r\n\t\t\t\t\t<SwiperSlide>\r\n\t\t\t\t\t\t<div className=\"stats-slider\">\r\n\t\t\t\t\t\t\t<span className=\"stats-slider-text\">\r\n\t\t\t\t\t\t\t\t{\">\"} EcoScore B : {this.props.ecoScoreData.b}{\" \"}\r\n\t\t\t\t\t\t\t\t{this.props.ecoScoreData.b > 1\r\n\t\t\t\t\t\t\t\t\t? \" produits\"\r\n\t\t\t\t\t\t\t\t\t: \" produit\"}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"stats-ecoscore-image\"\r\n\t\t\t\t\t\t\t\tsrc=\"/images/utils/ecoScoreB.png\"\r\n\t\t\t\t\t\t\t\talt=\"\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</SwiperSlide>\r\n\t\t\t\t\t<SwiperSlide>\r\n\t\t\t\t\t\t<div className=\"stats-slider\">\r\n\t\t\t\t\t\t\t<span className=\"stats-slider-text\">\r\n\t\t\t\t\t\t\t\t{\">\"} EcoScore C : {this.props.ecoScoreData.c}{\" \"}\r\n\t\t\t\t\t\t\t\t{this.props.ecoScoreData.c > 1\r\n\t\t\t\t\t\t\t\t\t? \" produits\"\r\n\t\t\t\t\t\t\t\t\t: \" produit\"}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"stats-ecoscore-image\"\r\n\t\t\t\t\t\t\t\tsrc=\"/images/utils/ecoScoreC.png\"\r\n\t\t\t\t\t\t\t\talt=\"\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</SwiperSlide>\r\n\t\t\t\t\t<SwiperSlide>\r\n\t\t\t\t\t\t<div className=\"stats-slider\">\r\n\t\t\t\t\t\t\t<span className=\"stats-slider-text\">\r\n\t\t\t\t\t\t\t\t{\">\"} EcoScore D : {this.props.ecoScoreData.d}{\" \"}\r\n\t\t\t\t\t\t\t\t{this.props.ecoScoreData.d > 1\r\n\t\t\t\t\t\t\t\t\t? \" produits\"\r\n\t\t\t\t\t\t\t\t\t: \" produit\"}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"stats-ecoscore-image\"\r\n\t\t\t\t\t\t\t\tsrc=\"/images/utils/ecoScoreD.png\"\r\n\t\t\t\t\t\t\t\talt=\"\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</SwiperSlide>\r\n\t\t\t\t\t<SwiperSlide>\r\n\t\t\t\t\t\t<div className=\"stats-slider\">\r\n\t\t\t\t\t\t\t<span className=\"stats-slider-text\">\r\n\t\t\t\t\t\t\t\t{\">\"} EcoScore E : {this.props.ecoScoreData.e}{\" \"}\r\n\t\t\t\t\t\t\t\t{this.props.ecoScoreData.e > 1\r\n\t\t\t\t\t\t\t\t\t? \" produits\"\r\n\t\t\t\t\t\t\t\t\t: \" produit\"}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"stats-ecoscore-image\"\r\n\t\t\t\t\t\t\t\tsrc=\"/images/utils/ecoScoreE.png\"\r\n\t\t\t\t\t\t\t\talt=\"\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</SwiperSlide>\r\n\t\t\t\t\t<SwiperSlide>\r\n\t\t\t\t\t\t<div className=\"stats-slider\">\r\n\t\t\t\t\t\t\t<span className=\"stats-slider-text\">\r\n\t\t\t\t\t\t\t\t{\">\"} EcoScore Inconnu :{\" \"}\r\n\t\t\t\t\t\t\t\t{this.props.ecoScoreData.unknown}{\" \"}\r\n\t\t\t\t\t\t\t\t{this.props.ecoScoreData.unknown > 1\r\n\t\t\t\t\t\t\t\t\t? \" produits\"\r\n\t\t\t\t\t\t\t\t\t: \" produit\"}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</SwiperSlide>\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn slides;\r\n\t};\r\n\r\n\trender = () => {\r\n\t\treturn (\r\n\t\t\t//<div className=\"stats-chart-container\">{this.displayChart()}</div>\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<div className=\"stats-chart\">{this.displayChart()}</div>\r\n\t\t\t\t<div className=\"stats-chart-slider\">\r\n\t\t\t\t\t<Swiper\r\n\t\t\t\t\t\tspaceBetween={0}\r\n\t\t\t\t\t\tslidesPerView={1}\r\n\t\t\t\t\t\tcenteredSlides={true}\r\n\t\t\t\t\t\tonSlideChange={(i) => this.onSlideChange(i.activeIndex)}\r\n\t\t\t\t\t\tonSwiper={(swiper) => this.setState({ swiper: swiper })}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{this.displaySlides()}\r\n\t\t\t\t\t</Swiper>\r\n\t\t\t\t</div>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t};\r\n}\r\n\r\nexport default DoughnutChartEcoScore;\r\n","import React from \"react\";\r\nimport Navbar from \"../components/Navbar/Navbar\";\r\nimport DoughnutChartEcoScore from \"../components/Charts/DoughnutChartEcoScore\";\r\nimport \"./Product.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport jwt from \"jsonwebtoken\";\r\n\r\nclass Statistics extends React.Component {\r\n\tstate = {\r\n\t\tecoScoreData: undefined,\r\n\t\tcarbonImpactData: undefined,\r\n\t\tusername: undefined,\r\n\t\tscannedProduct: undefined,\r\n\t\tcartedProduct: undefined,\r\n\t\tuserId: undefined,\r\n\t\tvalue: 0,\r\n\t};\r\n\r\n\tVerify = () => {\r\n\t\tlet isExpired = true;\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\tif (token) {\r\n\t\t\tvar decodedToken = jwt.decode(token, { complete: true });\r\n\t\t\tvar dateNow = new Date();\r\n\t\t\tif (decodedToken.payload.exp >= dateNow.getTime() / 1000) {\r\n\t\t\t\tisExpired = false;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (isExpired === false) {\r\n\t\t\tthis.setState({ connected: true });\r\n\t\t}\r\n\t};\r\n\r\n\tcomponentDidMount = () => {\r\n\t\tthis.Verify();\r\n\t\tlet userId = localStorage.getItem(\"userId\");\r\n\t\tif (userId) {\r\n\t\t\tthis.setState({ userId: userId });\r\n\t\t}\r\n\t\tthis.loadUserData(userId);\r\n\t\tthis.loadEcoScoreData(userId, \"fromBeginning\");\r\n\t\tthis.loadCarbonImpactData(userId, \"yearly\");\r\n\t};\r\n\r\n\tloadUserData = (userId) => {\r\n\t\tfetch(\r\n\t\t\t`https://api.lowympact.fr/api/v1/users/${userId}`,\r\n\t\t\t// `http://localhost:8080/api/v1/users/${userId}`,\r\n\t\t\t{\r\n\t\t\t\tmethod: \"get\",\r\n\t\t\t\tcredentials: \"include\",\r\n\t\t\t\theaders: new Headers({\r\n\t\t\t\t\tauthorization: localStorage.getItem(\"token\"),\r\n\t\t\t\t\t\"api-key\": \"99d8fb95-abdd-4885-bf6c-3a81d8874043\",\r\n\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t}),\r\n\t\t\t}\r\n\t\t)\r\n\t\t\t.then((response) => response.json())\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tusername: res?.data?.username,\r\n\t\t\t\t\tscannedProduct: res?.scannedProduct,\r\n\t\t\t\t\tcartedProduct: res?.cartedProduct,\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t};\r\n\r\n\tloadEcoScoreData = (userId, typeAggregate) => {\r\n\t\tfetch(\r\n\t\t\t`https://api.lowympact.fr/api/v1/users/${userId}/statistics?typeStatistic=ecoscore&typeAggregate=${typeAggregate}`,\r\n\t\t\t// `http://localhost:8080/api/v1/users/${userId}/statistics?typeStatistic=ecoscore&typeAggregate=${typeAggregate}`,\r\n\t\t\t{\r\n\t\t\t\tmethod: \"get\",\r\n\t\t\t\tcredentials: \"include\",\r\n\t\t\t\theaders: new Headers({\r\n\t\t\t\t\tauthorization: localStorage.getItem(\"token\"),\r\n\t\t\t\t\t\"api-key\": \"99d8fb95-abdd-4885-bf6c-3a81d8874043\",\r\n\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t}),\r\n\t\t\t}\r\n\t\t)\r\n\t\t\t.then((response) => response.json())\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tecoScoreData: res?.statistics?.ecoscore,\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t};\r\n\r\n\tloadCarbonImpactData = (userId, typeAggregate) => {\r\n\t\tfetch(\r\n\t\t\t`https://api.lowympact.fr/api/v1/users/${userId}/statistics?typeStatistic=carbonImpact&typeAggregate=${typeAggregate}`,\r\n\t\t\t// `http://localhost:8080/api/v1/users/${userId}/statistics?typeStatistic=carbonImpact&typeAggregate=${typeAggregate}`,\r\n\t\t\t{\r\n\t\t\t\tmethod: \"get\",\r\n\t\t\t\tcredentials: \"include\",\r\n\t\t\t\theaders: new Headers({\r\n\t\t\t\t\tauthorization: localStorage.getItem(\"token\"),\r\n\t\t\t\t\t\"api-key\": \"99d8fb95-abdd-4885-bf6c-3a81d8874043\",\r\n\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t}),\r\n\t\t\t}\r\n\t\t)\r\n\t\t\t.then((response) => response.json())\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tcarbonImpactData: res?.statistics?.carbonImpact,\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t};\r\n\r\n\tdisplayStats = () => {\r\n\t\tlet scannedProduct = <React.Fragment />;\r\n\t\tlet cartedProduct = <React.Fragment />;\r\n\r\n\t\tif (this.state.scannedProduct !== undefined) {\r\n\t\t\tscannedProduct = (\r\n\t\t\t\t<div className=\"stats-header-text\">\r\n\t\t\t\t\t<span className={\"circle-stats color_score_stats\"}> </span>\r\n\t\t\t\t\t{this.state.scannedProduct > 1\r\n\t\t\t\t\t\t? \"Produits scanns :\"\r\n\t\t\t\t\t\t: \"Produit scann :\"}\r\n\t\t\t\t\t<span className=\"uppercase \">\r\n\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t{this.state.scannedProduct}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tif (this.state.cartedProduct !== undefined) {\r\n\t\t\tcartedProduct = (\r\n\t\t\t\t<div className=\"stats-header-text\">\r\n\t\t\t\t\t<span className={\"circle-stats color_score_stats\"}> </span>\r\n\t\t\t\t\t{this.state.cartedProduct > 1\r\n\t\t\t\t\t\t? \"Produits achets :\"\r\n\t\t\t\t\t\t: \"Produit achet :\"}\r\n\t\t\t\t\t<span className=\"uppercase \">\r\n\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t{this.state.cartedProduct}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t{scannedProduct}\r\n\t\t\t\t{cartedProduct}\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t};\r\n\r\n\thandleChange = (event, newValue) => {\r\n\t\tthis.setState({ value: newValue });\r\n\t};\r\n\r\n\tdisplayNavbar = () => {\r\n\t\tlet retour = (\r\n\t\t\t<div className=\"stats-navbar-container\">\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName={\r\n\t\t\t\t\t\tthis.state.value === 0\r\n\t\t\t\t\t\t\t? \"stats-navbar-button selected\"\r\n\t\t\t\t\t\t\t: \"stats-navbar-button\"\r\n\t\t\t\t\t}\r\n\t\t\t\t\tonClick={() => this.handleChange(\"\", 0)}\r\n\t\t\t\t>\r\n\t\t\t\t\tEcoScore\r\n\t\t\t\t</button>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName={\r\n\t\t\t\t\t\tthis.state.value === 1\r\n\t\t\t\t\t\t\t? \"stats-navbar-button selected\"\r\n\t\t\t\t\t\t\t: \"stats-navbar-button\"\r\n\t\t\t\t\t}\r\n\t\t\t\t\tonClick={() => this.handleChange(\"\", 1)}\r\n\t\t\t\t>\r\n\t\t\t\t\tImpact Carbone\r\n\t\t\t\t</button>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={\r\n\t\t\t\t\t\tthis.state.value === 0\r\n\t\t\t\t\t\t\t? \"navbar-under nav-left\"\r\n\t\t\t\t\t\t\t: \"navbar-under nav-right\"\r\n\t\t\t\t\t}\r\n\t\t\t\t></div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t\treturn retour;\r\n\t};\r\n\r\n\trender = () => {\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<div className=\"stats-page-container\">\r\n\t\t\t\t\t<div className=\"stats-header-container\">\r\n\t\t\t\t\t\t<div className=\"stats-profil-link\">\r\n\t\t\t\t\t\t\t<Link to=\"/profil\"> {\"<\"} Profil</Link>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tclassName=\"stats-bitmap-image\"\r\n\t\t\t\t\t\t\tsrc=\"/images/utils/bitmap.png\"\r\n\t\t\t\t\t\t\talt=\"\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"stats-welcome\">\r\n\t\t\t\t\t\t<span className=\"stats-welcome-text\">\r\n\t\t\t\t\t\t\t{this.state.username\r\n\t\t\t\t\t\t\t\t? this.state.username +\r\n\t\t\t\t\t\t\t\t  \", voici ton rcapitulatif Lowympact...\"\r\n\t\t\t\t\t\t\t\t: \"\"}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"stats-text-container\">\r\n\t\t\t\t\t\t{this.displayStats()}\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{this.displayNavbar()}\r\n\r\n\t\t\t\t\t{this.state.value === 0 ? (\r\n\t\t\t\t\t\t<DoughnutChartEcoScore\r\n\t\t\t\t\t\t\tecoScoreData={this.state.ecoScoreData}\r\n\t\t\t\t\t\t\tscannedProduct={this.state.scannedProduct}\r\n\t\t\t\t\t\t></DoughnutChartEcoScore>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<DoughnutChartEcoScore\r\n\t\t\t\t\t\t\tecoScoreData={this.state.ecoScoreData}\r\n\t\t\t\t\t\t\tscannedProduct={this.state.scannedProduct}\r\n\t\t\t\t\t\t></DoughnutChartEcoScore>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t<Navbar />\r\n\t\t\t\t</div>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t};\r\n}\r\n\r\nexport default Statistics;\r\n\r\nconst delay = (ms) => new Promise((res) => setTimeout(res, ms));\r\n","import React, { Component } from \"react\";\r\nimport { BrowserRouter as Router, Route, Redirect, Switch } from \"react-router-dom\";\r\nimport { AnimatePresence } from \"framer-motion\";\r\n\r\nimport \"./App.css\";\r\nimport History from \"./pages/History\";\r\nimport Error404 from \"./pages/Error404\";\r\nimport Login from \"./pages/Login\";\r\nimport Product from \"./pages/Product\";\r\nimport Profil from \"./pages/Profil\";\r\nimport Signup from \"./pages/Signup\";\r\nimport Signin from \"./pages/Signin\";\r\nimport ProfileConfiguration from \"./pages/ProfileConfiguration\";\r\nimport Statistics from \"./pages/Statistics\";\r\n\r\nclass App extends Component {\r\n    render() {\r\n        return (\r\n            <Router>\r\n                <AnimatePresence exitBeforeEnter={true}>\r\n                    <Switch>\r\n                        {/* Front Pages */}\r\n                        <Route path=\"/history\" component={History} exact key={1} />\r\n                        <Route path=\"/profil\" component={Profil} exact key={2} />\r\n                        <Route path=\"/login\" component={Login} exact />\r\n                        <Route path=\"/\" component={Login} exact key={1} />\r\n                        <Route path=\"/products/:barcode/:bcProductId\" component={Product} exact />\r\n                        <Route path=\"/products/:barcode\" component={Product} exact />\r\n                        <Route path=\"/signup\" component={Signup} exact />\r\n                        <Route path=\"/signin\" component={Signin} exact />\r\n                        <Route path=\"/configuration\" component={ProfileConfiguration} exact />\r\n                        <Route path=\"/stats\" component={Statistics} exact />\r\n                        {/* Errors Pages */}\r\n                        <Route path=\"/error404\" component={Error404} />\r\n                        <Redirect to=\"/error404\" />\r\n                        {/* <Route path=\"/MAINTENANCE\" component={ Maintenance } /> */}\r\n                    </Switch>\r\n                </AnimatePresence>\r\n                {/* </Suspense> */}\r\n            </Router>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}